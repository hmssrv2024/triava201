<!DOCTYPE html>
<html lang="es">
<head>
  <script src="repair.js"></script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Mi Cuenta en USA - REMEEX Visa Banking</title>
  <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
  <link rel="apple-touch-icon" href="visabluapple.png">
  <meta name="description" content="Remeex VISA: transferencias globales sin comisiones, rapidas y seguras."/>
  <meta name="keywords" content="remesas, transferencias internacionales, enviar dinero, VISA"/>
  <meta name="author" content="Remeex VISA"/>
  <meta name="robots" content="index, follow"/>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.11.4/dist/gsap.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
  <style>
    :root {
      /* Modern color palette based on Revolut/N26 style */
      --primary: #1a1f71;
      --primary-dark: #0c1045;
      --primary-light: #3244b6;
      --secondary: #00579f;
      --accent: #f7b600;
      --success: #00d34d;
      --danger: #ff4d4d;
      --warning: #ffad33;
      --info: #0095ff;
      --neutral-100: #ffffff;
      --neutral-200: #f5f7fa;
      --neutral-300: #eaecf0;
      --neutral-400: #d0d5dd;
      --neutral-500: #9da4b4;
      --neutral-600: #6e7891;
      --neutral-700: #4f5d75;
      --neutral-800: #293249;
      --neutral-900: #1a1f37;

      /* Chase specific colors */
      --chase-blue: #005EA2;
      --chase-light: #0066CC;
      --chase-dark: #003D75;
      --chase-gradient: linear-gradient(135deg, #005EA2 0%, #0066CC 100%);

      /* Shadows & Effects */
      --shadow-sm: 0 1px 3px rgba(16, 24, 40, 0.1);
      --shadow-md: 0 4px 8px -2px rgba(16, 24, 40, 0.1), 0 2px 4px -2px rgba(16, 24, 40, 0.06);
      --shadow-lg: 0 12px 16px -4px rgba(16, 24, 40, 0.08), 0 4px 6px -2px rgba(16, 24, 40, 0.03);
      --shadow-xl: 0 20px 24px -4px rgba(16, 24, 40, 0.08), 0 8px 8px -4px rgba(16, 24, 40, 0.03);
      
      /* Border radius */
      --radius-sm: 6px;
      --radius-md: 12px;
      --radius-lg: 16px;
      --radius-xl: 24px;
      --radius-full: 9999px;
      
      /* Transitions */
      --transition-fast: all 0.2s ease;
      --transition-base: all 0.3s ease;
      --transition-slow: all 0.5s ease;
      
      /* Animations */
      --animation-bounce: cubic-bezier(0.34, 1.56, 0.64, 1);
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      background: var(--neutral-200);
      color: var(--neutral-900);
      line-height: 1.5;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      overflow-x: hidden;
      margin: 0;
      position: relative;
    }
    
    /* Header */
    .app-header {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0.6rem 1rem;
      background: var(--neutral-100);
      border-bottom: 1px solid var(--neutral-300);
      box-shadow: var(--shadow-sm);
      z-index: 1000;
      height: 60px;
    }
    
    .header-brand {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    
    .header-brand img {
      height: 32px;
      width: auto;
    }

    .header-spacer {
      width: 80px;
    }
    
    .back-button {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      color: var(--primary);
      text-decoration: none;
      font-weight: 500;
      padding: 0.5rem;
      border-radius: var(--radius-md);
      transition: var(--transition-base);
    }
    
    .back-button:hover {
      background: rgba(26, 31, 113, 0.1);
    }
    
    /* Main Container */
    .main-container {
      padding-top: 70px;
      padding-bottom: 2rem;
      max-width: 675px;
      margin: 0 auto;
      min-height: 100vh;
    }
    
    .page-content {
      padding: 0.75rem;
    }
    
    /* Page Header */
    .page-header {
      text-align: center;
      margin-bottom: 2rem;
    }
    
    .chase-logo {
      width: 140px;
      height: 70px;
      margin: 0 auto 1rem;
      background: var(--chase-gradient);
      border-radius: var(--radius-lg);
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 1.2rem;
      font-weight: 700;
      letter-spacing: 1px;
      box-shadow: var(--shadow-lg);
      position: relative;
      overflow: hidden;
    }
    
    .chase-logo::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
      animation: shine 3s infinite;
    }
    
    @keyframes shine {
      100% { left: 100%; }
    }
    
    .page-title {
      font-size: 1.75rem;
      font-weight: 700;
      color: var(--neutral-900);
      margin-bottom: 0.5rem;
    }
    
    .page-subtitle {
      font-size: 1rem;
      color: var(--neutral-600);
      margin-bottom: 1.5rem;
    }
    
    /* Cards */
    .card {
      background: var(--neutral-100);
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow-sm);
      padding: 1.5rem;
      margin-bottom: 1.5rem;
      transition: transform 0.3s var(--animation-bounce), box-shadow 0.3s ease;
    }
    
    .card:hover {
      transform: translateY(-3px);
      box-shadow: var(--shadow-md);
    }
    
    
    /* Form Styles */
    .form-group {
      margin-bottom: 1.5rem;
    }
    
    .form-label {
      display: block;
      font-size: 0.9rem;
      font-weight: 600;
      color: var(--neutral-700);
      margin-bottom: 0.5rem;
    }
    
    .form-control {
      width: 100%;
      height: 48px;
      padding: 0 1rem;
      border: 2px solid var(--neutral-300);
      border-radius: var(--radius-md);
      font-size: 1rem;
      color: var(--neutral-900);
      background: var(--neutral-100);
      transition: var(--transition-base);
    }
    
    .form-control:focus {
      outline: none;
      border-color: var(--chase-blue);
      box-shadow: 0 0 0 3px rgba(0, 94, 162, 0.15);
    }
    
    .form-control.error {
      border-color: var(--danger);
    }
    
    .form-control.success {
      border-color: var(--success);
    }
    
    .form-select {
      width: 100%;
      height: 48px;
      padding: 0 1rem;
      border: 2px solid var(--neutral-300);
      border-radius: var(--radius-md);
      font-size: 1rem;
      color: var(--neutral-900);
      background: var(--neutral-100);
      transition: var(--transition-base);
    }
    
    .form-select:focus {
      outline: none;
      border-color: var(--chase-blue);
      box-shadow: 0 0 0 3px rgba(0, 94, 162, 0.15);
    }
    
    .form-help {
      font-size: 0.8rem;
      color: var(--neutral-600);
      margin-top: 0.5rem;
    }
    
    .error-message {
      font-size: 0.8rem;
      color: var(--danger);
      margin-top: 0.5rem;
      display: none;
    }
    
    .success-message {
      font-size: 0.8rem;
      color: var(--success);
      margin-top: 0.5rem;
      display: none;
    }
    
    /* Buttons */
    .btn {
      display: flex;
      align-items: center;
      justify-content: center;
      height: 48px;
      padding: 0 1.5rem;
      border-radius: var(--radius-md);
      font-weight: 600;
      font-size: 1rem;
      border: none;
      cursor: pointer;
      transition: all 0.3s var(--animation-bounce);
      text-decoration: none;
    }
    
    .btn-primary {
      background: var(--chase-gradient);
      color: white;
      width: 100%;
    }
    
    .btn-primary:hover {
      transform: translateY(-3px);
      box-shadow: var(--shadow-md);
    }
    
    .btn-primary:active {
      transform: translateY(0);
    }
    
    .btn-primary:disabled {
      background: var(--neutral-500);
      cursor: not-allowed;
      transform: none;
      box-shadow: none;
    }
    
    .btn-outline {
      background: transparent;
      border: 2px solid var(--chase-blue);
      color: var(--chase-blue);
    }
    
    .btn-outline:hover {
      background: rgba(0, 94, 162, 0.1);
      transform: translateY(-3px);
    }
    
    .btn i {
      margin-right: 0.5rem;
      font-size: 1.1rem;
    }
    
    /* Information Boxes */
    .info-box {
      background: rgba(0, 94, 162, 0.1);
      border-left: 4px solid var(--chase-blue);
      border-radius: var(--radius-md);
      padding: 1rem;
      margin: 1.5rem 0;
    }
    
    .info-box-title {
      font-weight: 600;
      color: var(--chase-blue);
      margin-bottom: 0.5rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    
    .info-box-content {
      font-size: 0.9rem;
      color: var(--neutral-700);
      line-height: 1.6;
    }
    
    .warning-box {
      background: rgba(255, 173, 51, 0.1);
      border-left: 4px solid var(--warning);
      border-radius: var(--radius-md);
      padding: 1rem;
      margin: 1.5rem 0;
    }
    
    .warning-box-title {
      font-weight: 600;
      color: var(--warning);
      margin-bottom: 0.5rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    
    .warning-box-content {
      font-size: 0.9rem;
      color: var(--neutral-700);
      line-height: 1.6;
    }
    
    /* Account Type Selection */
    .account-types {
      display: grid;
      grid-template-columns: 1fr;
      gap: 1rem;
      margin: 1.5rem 0;
    }
    
    .account-type {
      background: var(--neutral-200);
      border: 2px solid var(--neutral-300);
      border-radius: var(--radius-md);
      padding: 1.5rem;
      cursor: pointer;
      transition: var(--transition-base);
      position: relative;
    }
    
    .account-type:hover {
      border-color: var(--chase-blue);
      background: rgba(0, 94, 162, 0.05);
    }
    
    .account-type.selected {
      border-color: var(--chase-blue);
      background: rgba(0, 94, 162, 0.1);
    }
    
    .account-type-header {
      display: flex;
      align-items: center;
      gap: 1rem;
      margin-bottom: 1rem;
    }
    
    .account-type-icon {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background: var(--chase-gradient);
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.3rem;
    }
    
    .account-type-name {
      font-size: 1.1rem;
      font-weight: 700;
      color: var(--neutral-900);
    }
    
    .account-type-description {
      font-size: 0.9rem;
      color: var(--neutral-600);
      margin-bottom: 1rem;
    }
    
    .account-type-features {
      list-style: none;
      padding: 0;
    }
    
    .account-type-features li {
      font-size: 0.8rem;
      color: var(--neutral-700);
      margin-bottom: 0.5rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    
    .account-type-features li::before {
      content: '✓';
      color: var(--success);
      font-weight: bold;
    }
    
    /* Bank Details Display */
    .bank-details-card {
      background: var(--chase-gradient);
      color: white;
      border-radius: var(--radius-lg);
      padding: 2rem;
      margin: 2rem 0;
      position: relative;
      overflow: hidden;
    }
    
    .bank-details-card::before {
      content: '';
      position: absolute;
      top: 0;
      right: -50px;
      width: 200px;
      height: 200px;
      border-radius: 50%;
      background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0) 70%);
    }
    
    .bank-details-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 2rem;
    }
    
    .bank-details-logo {
      font-size: 1.5rem;
      font-weight: 700;
      letter-spacing: 1px;
    }
    
    .account-status {
      background: rgba(255, 255, 255, 0.2);
      padding: 0.5rem 1rem;
      border-radius: var(--radius-full);
      font-size: 0.8rem;
      font-weight: 600;
    }
    
    .bank-details-grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 1.5rem;
    }
    
    .bank-detail-item {
      background: rgba(255, 255, 255, 0.1);
      border-radius: var(--radius-md);
      padding: 1rem;
      backdrop-filter: blur(5px);
    }
    
    .bank-detail-label {
      font-size: 0.8rem;
      opacity: 0.8;
      margin-bottom: 0.5rem;
    }
    
    .bank-detail-value {
      font-size: 1.1rem;
      font-weight: 600;
      font-family: 'Courier New', monospace;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    
    .copy-btn {
      background: rgba(255, 255, 255, 0.2);
      border: none;
      color: white;
      width: 32px;
      height: 32px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: var(--transition-base);
    }
    
    .copy-btn:hover {
      background: rgba(255, 255, 255, 0.3);
    }
    
    /* Features List */
    .features-list {
      margin: 1.5rem 0;
    }
    
    .feature-item {
      display: flex;
      align-items: center;
      gap: 1rem;
      padding: 1rem 0;
      border-bottom: 1px solid var(--neutral-300);
    }
    
    .feature-item:last-child {
      border-bottom: none;
    }
    
    .feature-icon {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: var(--chase-gradient);
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.1rem;
      flex-shrink: 0;
    }
    
    .feature-content h4 {
      font-weight: 600;
      color: var(--neutral-900);
      margin-bottom: 0.25rem;
    }
    
    .feature-content p {
      font-size: 0.9rem;
      color: var(--neutral-600);
    }
    
    /* Terms and Conditions */
    .terms-container {
      max-height: 300px;
      overflow-y: auto;
      border: 2px solid var(--neutral-300);
      border-radius: var(--radius-md);
      padding: 1rem;
      margin: 1rem 0;
      background: var(--neutral-100);
    }
    
    .terms-content {
      font-size: 0.85rem;
      line-height: 1.6;
      color: var(--neutral-700);
    }
    
    .terms-content h3 {
      color: var(--chase-blue);
      margin: 1rem 0 0.5rem 0;
    }
    
    .terms-acceptance {
      margin: 1.5rem 0;
      padding: 1rem;
      background: rgba(0, 94, 162, 0.05);
      border-radius: var(--radius-md);
    }
    
    .terms-checkbox {
      display: flex;
      align-items: flex-start;
      gap: 0.75rem;
      margin-bottom: 1rem;
    }
    
    .terms-checkbox input[type="checkbox"] {
      margin-top: 0.2rem;
      width: 18px;
      height: 18px;
    }
    
    .terms-checkbox label {
      font-size: 0.9rem;
      color: var(--neutral-700);
      cursor: pointer;
      line-height: 1.5;
    }
    
    /* Loading Overlay */
    .loading-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.8);
      backdrop-filter: blur(5px);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      z-index: 9999;
      display: none;
    }
    
    .spinner {
      width: 50px;
      height: 50px;
      border: 3px solid rgba(255, 255, 255, 0.2);
      border-radius: 50%;
      border-top-color: white;
      animation: spin 1s linear infinite;
      margin-bottom: 1.5rem;
    }
    
    .loading-text {
      color: white;
      font-size: 1.1rem;
      margin-bottom: 1.5rem;
      font-weight: 500;
      text-align: center;
    }
    
    .progress-bar-container {
      width: 80%;
      max-width: 300px;
      height: 8px;
      background: rgba(255, 255, 255, 0.2);
      border-radius: var(--radius-full);
      overflow: hidden;
    }
    
    .progress-bar {
      height: 100%;
      background: white;
      width: 0%;
      border-radius: var(--radius-full);
      transition: width 0.3s ease;
    }

    /* Wizard Progress Bar */
    .progress-container-wizard {
      padding: 0.75rem;
      background: var(--neutral-100);
      border-bottom: 1px solid var(--neutral-300);
      flex-shrink: 0;
      margin-bottom: 2rem;
    }

    .progress-bar-wizard {
      width: 100%;
      height: 6px;
      background: var(--neutral-300);
      border-radius: var(--radius-full);
      overflow: hidden;
      margin-bottom: 0.5rem;
      position: relative;
    }

    .progress-fill-wizard {
      height: 100%;
      background: linear-gradient(90deg, var(--primary), var(--primary-light), var(--accent));
      border-radius: var(--radius-full);
      transition: width 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
      width: 0%;
      position: relative;
    }

    .progress-fill-wizard::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
      animation: shimmer 2s infinite;
    }

    .progress-text-wizard {
      font-size: 0.75rem;
      font-weight: 600;
      color: var(--neutral-900);
      text-align: center;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .progress-percentage-wizard {
      color: var(--primary);
      font-weight: 700;
    }
    
    /* Success Container */
    .success-container {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.9);
      backdrop-filter: blur(10px);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 9999;
      display: none;
    }
    
    .success-card {
      background: white;
      border-radius: var(--radius-lg);
      width: 90%;
      max-width: 500px;
      padding: 2rem;
      text-align: center;
      animation: scaleIn 0.3s ease;
      max-height: 90vh;
      overflow-y: auto;
    }
    
    .success-checkmark {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      background: var(--chase-gradient);
      color: white;
      font-size: 2.5rem;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto 1.5rem;
      transform: scale(0);
      animation: checkmarkScale 0.5s ease forwards 0.3s;
    }
    
    .success-title {
      font-size: 1.5rem;
      font-weight: 700;
      color: var(--neutral-900);
      margin-bottom: 1rem;
      opacity: 0;
      animation: fadeInUp 0.5s ease forwards 0.8s;
    }
    
    .success-message {
      font-size: 1rem;
      color: var(--neutral-600);
      margin-bottom: 1.5rem;
      opacity: 0;
      animation: fadeInUp 0.5s ease forwards 1.1s;
      line-height: 1.6;
    }
    
    .success-actions {
      display: flex;
      flex-direction: column;
      gap: 1rem;
      opacity: 0;
      animation: fadeInUp 0.5s ease forwards 1.4s;
    }
    
    /* Hidden Steps */
    .step-content {
      display: none;
    }
    
    .step-content.active {
      display: block;
      animation: fadeIn 0.5s ease;
    }
    
    /* Toast Notifications */
    .toast-container {
      position: fixed;
      top: 70px;
      right: 16px;
      z-index: 9999;
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
    }
    
    .toast {
      background: var(--neutral-900);
      color: white;
      border-radius: var(--radius-md);
      padding: 0.75rem 1rem;
      min-width: 280px;
      max-width: 350px;
      box-shadow: var(--shadow-lg);
      display: flex;
      align-items: center;
      gap: 0.75rem;
      animation: slideInRight 0.3s ease, fadeOut 0.3s ease 4s forwards;
    }
    
    .toast.success {
      border-left: 4px solid var(--success);
    }
    
    .toast.error {
      border-left: 4px solid var(--danger);
    }
    
    .toast.warning {
      border-left: 4px solid var(--warning);
    }
    
    .toast.info {
      border-left: 4px solid var(--info);
    }
    
    .toast-icon {
      flex-shrink: 0;
    }
    
    .toast-content {
      flex: 1;
      min-width: 0;
    }
    
    .toast-title {
      font-weight: 600;
      font-size: 0.9rem;
      margin-bottom: 0.2rem;
    }
    
    .toast-message {
      font-size: 0.8rem;
      opacity: 0.9;
      word-wrap: break-word;
    }
    
    .toast-close {
      color: var(--neutral-400);
      cursor: pointer;
      transition: var(--transition-base);
      flex-shrink: 0;
    }
    
    .toast-close:hover {
      color: white;
    }
    
    /* Account Dashboard */
    .account-dashboard {
      display: none;
    }
    
    .account-dashboard.active {
      display: block;
    }
    
    .quick-actions {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1rem;
      margin: 2rem 0;
    }
    
    .quick-action {
      background: var(--neutral-200);
      border: 2px solid var(--neutral-300);
      border-radius: var(--radius-md);
      padding: 1.5rem;
      text-align: center;
      cursor: pointer;
      transition: var(--transition-base);
      text-decoration: none;
      color: var(--neutral-900);
    }
    
    .quick-action:hover {
      border-color: var(--chase-blue);
      background: rgba(0, 94, 162, 0.05);
      transform: translateY(-3px);
    }
    
    .quick-action-icon {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background: var(--chase-gradient);
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.3rem;
      margin: 0 auto 1rem;
    }
    
    .quick-action-title {
      font-weight: 600;
      margin-bottom: 0.5rem;
    }
    
    .quick-action-description {
      font-size: 0.8rem;
      color: var(--neutral-600);
    }
    
    /* Responsive */
    @media (min-width: 768px) {
      .page-content {
        padding: 1.5rem;
      }
      
      .account-types {
        grid-template-columns: repeat(2, 1fr);
      }
      
      .bank-details-grid {
        grid-template-columns: repeat(2, 1fr);
      }
      
    }
    
    @media (min-width: 1024px) {
      .bank-details-grid {
        grid-template-columns: repeat(3, 1fr);
      }
    }
    
    /* Animations */
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    
    @keyframes scaleIn {
      from { transform: scale(0.9); opacity: 0; }
      to { transform: scale(1); opacity: 1; }
    }
    
    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    @keyframes checkmarkScale {
      from { transform: scale(0); }
      to { transform: scale(1); }
    }
    
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
    
    @keyframes slideInRight {
      from { transform: translateX(100%); opacity: 0; }
      to { transform: translateX(0); opacity: 1; }
    }
    
    @keyframes fadeOut {
      from { opacity: 1; }
      to { opacity: 0; visibility: hidden; }
    }

    @keyframes shimmer {
      0% { transform: translateX(-100%); }
      100% { transform: translateX(100%); }
    }
  </style>
  <link rel="stylesheet" href="responsive.css">
</head>
<body>
  <!-- Header -->
  <header class="app-header">
    <a href="javascript:history.back()" class="back-button">
      <i class="fas fa-arrow-left"></i>
      <span>Volver</span>
    </a>
<div class="header-brand">
  <a href="index">
    <img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhnBzNdjl6bNp-nIdaiHVENczJhwlJNA7ocsyiOObMmzbu8at0dY5yGcZ9cLxLF39qI6gwNfqBxlkTDC0txVULEwQVwGkeEzN0Jq9MRTRagA48mh18UqTlR4WhsXOLAEZugUyhqJHB19xJgnkpe-S5VOWFgzpKFwctv3XP9XhH41vNTvq0ZS-nik58Qhr-O/s320/remeex.png" alt="REMEEX">
  </a>
</div>

    <span class="header-spacer" aria-hidden="true"></span>
  </header>
  <!-- Main Container -->
  <div class="main-container">
    <div class="page-content">
  <!-- Account Setup Flow -->
  <div id="account-setup">
    <!-- Page Header -->
    <div class="page-header">
      <div class="chase-logo">CHASE</div>
      <h1 class="page-title">Mi Cuenta en USA</h1>
      <p class="page-subtitle">Abra su cuenta bancaria en Chase Bank para transacciones en Estados Unidos</p>
    </div>

    <!-- Progress Bar -->
    <div class="progress-container-wizard">
      <div class="progress-bar-wizard">
        <div class="progress-fill-wizard" id="progressFill"></div>
      </div>
      <div class="progress-text-wizard">
        <span>Apertura en progreso</span>
        <span class="progress-percentage-wizard" id="progressPercentage">0%</span>
      </div>
    </div>

    <!-- Step 1: Introduction -->
    <div class="step-content active" id="step-1">
      <div class="card">
        <h2 style="margin-bottom: 1rem; color: var(--chase-blue);">Banca de Estados Unidos con Chase Bank</h2>
        
        <div class="features-list">
          <div class="feature-item">
            <div class="feature-icon">
              <i class="fas fa-university"></i>
            </div>
            <div class="feature-content">
              <h4>Cuenta Bancaria Completa</h4>
              <p>Acceso a todos los servicios bancarios de Chase Bank en Estados Unidos</p>
            </div>
          </div>
          
          <div class="feature-item">
            <div class="feature-icon">
              <i class="fas fa-globe-americas"></i>
            </div>
            <div class="feature-content">
              <h4>Transferencias Internacionales</h4>
              <p>Envía y recibe dinero desde cualquier parte del mundo con SWIFT</p>
            </div>
          </div>
          
          <div class="feature-item">
            <div class="feature-icon">
              <i class="fas fa-mobile-alt"></i>
            </div>
            <div class="feature-content">
              <h4>Zelle Compatible</h4>
              <p>Lista para configurar transferencias instantáneas con Zelle®</p>
            </div>
          </div>
          
          <div class="feature-item">
            <div class="feature-icon">
              <i class="fas fa-shield-alt"></i>
            </div>
            <div class="feature-content">
              <h4>Protección FDIC</h4>
              <p>Sus depósitos están asegurados hasta $250,000 por el FDIC</p>
            </div>
          </div>
        </div>

        <div class="info-box">
          <div class="info-box-title">
            <i class="fas fa-info-circle"></i>
            Beneficios de su Cuenta Chase
          </div>
          <div class="info-box-content">
            • Cuenta corriente y de ahorros integradas<br>
            • Tarjeta de débito Visa incluida<br>
            • Acceso a más de 16,000 cajeros automáticos<br>
            • Banca en línea y móvil 24/7<br>
            • Sin comisiones por transferencias internas
          </div>
        </div>

        <button class="btn btn-primary" id="start-account-setup">
          <i class="fas fa-rocket"></i>
          Comenzar Apertura de Cuenta
        </button>
      </div>
    </div>

    <!-- Step 2: Account Type Selection -->
    <div class="step-content" id="step-2">
      <div class="card">
        <h2 style="margin-bottom: 1rem; color: var(--chase-blue);">Seleccione el Tipo de Cuenta</h2>
        <p style="margin-bottom: 1.5rem; color: var(--neutral-600);">Elija el paquete que mejor se adapte a sus necesidades financieras</p>

        <div class="account-types">
          <div class="account-type" data-account="premier">
            <div class="account-type-header">
              <div class="account-type-icon">
                <i class="fas fa-crown"></i>
              </div>
              <div>
                <div class="account-type-name">Chase Premier Banking</div>
                <div style="font-size: 0.8rem; color: var(--chase-blue); font-weight: 600;">Recomendado</div>
              </div>
            </div>
            <div class="account-type-description">
              Paquete premium con beneficios exclusivos para clientes internacionales
            </div>
            <ul class="account-type-features">
              <li>Sin comisiones por transferencias internacionales</li>
              <li>Gerente de cuenta personal asignado</li>
              <li>Tasas preferenciales en créditos</li>
              <li>Acceso a salas VIP en aeropuertos</li>
              <li>Zelle® y wire transfers sin límites</li>
            </ul>
          </div>
          
          <div class="account-type" data-account="complete">
            <div class="account-type-header">
              <div class="account-type-icon">
                <i class="fas fa-star"></i>
              </div>
              <div>
                <div class="account-type-name">Chase Complete Banking</div>
              </div>
            </div>
            <div class="account-type-description">
              Cuenta estándar con todas las funcionalidades básicas para uso diario
            </div>
            <ul class="account-type-features">
              <li>Cuenta corriente y ahorros incluidas</li>
              <li>Tarjeta de débito sin comisiones anuales</li>
              <li>Banca móvil y en línea</li>
              <li>Zelle® para transferencias rápidas</li>
              <li>Primeras 5 transferencias wire gratuitas/mes</li>
            </ul>
          </div>
        </div>

        <div style="display: flex; gap: 1rem; margin-top: 1.5rem;">
          <button class="btn btn-outline" id="back-step-2" style="flex: 1;">
            <i class="fas fa-arrow-left"></i>
            Anterior
          </button>
          <button class="btn btn-primary" id="continue-step-2" style="flex: 2;" disabled>
            Continuar
            <i class="fas fa-arrow-right"></i>
          </button>
        </div>
      </div>
    </div>

    <!-- Step 3: Personal Information -->
    <div class="step-content" id="step-3">
      <div class="card">
        <h2 style="margin-bottom: 1rem; color: var(--chase-blue);">Información Personal</h2>
        <p style="margin-bottom: 1.5rem; color: var(--neutral-600);">Complete sus datos personales para la apertura de cuenta</p>

        <form id="personal-form">
          <div class="form-group">
            <label class="form-label" for="full-name">Nombre Completo *</label>
            <input type="text" class="form-control" id="full-name" placeholder="Como aparece en su pasaporte" required>
            <div class="form-help">Debe coincidir con su documento de identificación</div>
            <div class="error-message" id="full-name-error"></div>
          </div>

          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
            <div class="form-group">
              <label class="form-label" for="date-birth">Fecha de Nacimiento *</label>
              <input type="date" class="form-control" id="date-birth" required>
              <div class="error-message" id="date-birth-error"></div>
            </div>

            <div class="form-group">
              <label class="form-label" for="nationality">Nacionalidad *</label>
              <select class="form-select" id="nationality" required>
                <option value="">Seleccione...</option>
                <option value="VE">Venezuela</option>
                <option value="CO">Colombia</option>
                <option value="PE">Perú</option>
                <option value="EC">Ecuador</option>
                <option value="AR">Argentina</option>
                <option value="CL">Chile</option>
                <option value="UY">Uruguay</option>
                <option value="PY">Paraguay</option>
                <option value="BO">Bolivia</option>
                <option value="BR">Brasil</option>
                <option value="MX">México</option>
                <option value="ES">España</option>
                <option value="US">Estados Unidos</option>
                <option value="other">Otra</option>
              </select>
              <div class="error-message" id="nationality-error"></div>
            </div>
          </div>

          <div class="form-group">
            <label class="form-label" for="passport-number">Número de Pasaporte *</label>
            <input type="text" class="form-control" id="passport-number" placeholder="Número de pasaporte válido" required>
            <div class="form-help">Requerido para clientes internacionales</div>
            <div class="error-message" id="passport-number-error"></div>
          </div>

          <div class="form-group">
            <label class="form-label" for="us-address">Dirección en Estados Unidos *</label>
            <input type="text" class="form-control" id="us-address" placeholder="Dirección física en USA" required>
            <div class="form-help">Puede ser una dirección temporal o de contacto</div>
            <div class="error-message" id="us-address-error"></div>
          </div>

          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
            <div class="form-group">
              <label class="form-label" for="us-phone">Teléfono en USA *</label>
              <input type="tel" class="form-control" id="us-phone" placeholder="+1 (555) 123-4567" required>
              <div class="error-message" id="us-phone-error"></div>
            </div>

            <div class="form-group">
              <label class="form-label" for="ssn-itin">SSN o ITIN</label>
              <input type="text" class="form-control" id="ssn-itin" placeholder="xxx-xx-xxxx" maxlength="11">
              <div class="form-help">Opcional para no residentes</div>
              <div class="error-message" id="ssn-itin-error"></div>
            </div>
          </div>
        </form>

        <div style="display: flex; gap: 1rem; margin-top: 1.5rem;">
          <button class="btn btn-outline" id="back-step-3" style="flex: 1;">
            <i class="fas fa-arrow-left"></i>
            Anterior
          </button>
          <button class="btn btn-primary" id="continue-step-3" style="flex: 2;">
            Continuar
            <i class="fas fa-arrow-right"></i>
          </button>
        </div>
      </div>
    </div>

    <!-- Step 4: Terms and Conditions -->
    <div class="step-content" id="step-4">
      <div class="card">
        <h2 style="margin-bottom: 1rem; color: var(--chase-blue);">Términos y Condiciones</h2>
        <p style="margin-bottom: 1.5rem; color: var(--neutral-600);">Por favor, lea y acepte los términos para continuar con la apertura de su cuenta</p>

        <div class="terms-container">
          <div class="terms-content">
            <h3>TÉRMINOS Y CONDICIONES - CHASE BANK</h3>
            
            <p><strong>1. APERTURA DE CUENTA</strong></p>
            <p>Al abrir una cuenta en Chase Bank, usted acepta cumplir con todas las regulaciones bancarias federales de Estados Unidos, incluyendo las normas KYC (Know Your Customer) y AML (Anti-Money Laundering).</p>
            
            <p><strong>2. SERVICIOS INCLUIDOS</strong></p>
            <p>Su cuenta incluye: cuenta corriente, cuenta de ahorros, tarjeta de débito Visa, banca en línea, banca móvil, Zelle®, transferencias wire, y acceso a la red de cajeros automáticos de Chase.</p>
            
            <p><strong>3. COMISIONES Y TARIFAS</strong></p>
            <p>Las cuentas Premier Banking incluyen transferencias internacionales sin costo. Las cuentas Complete Banking incluyen las primeras 5 transferencias wire gratuitas por mes. Consulte el anexo de tarifas para detalles completos.</p>
            
            <p><strong>4. CUMPLIMIENTO REGULATORIO</strong></p>
            <p>Chase Bank cumple con FATCA, CRS y todas las regulaciones internacionales de intercambio de información fiscal. Sus datos pueden ser compartidos con autoridades fiscales según corresponda.</p>
            
            <p><strong>5. TRANSFERENCIAS INTERNACIONALES</strong></p>
            <p>Las transferencias internacionales están sujetas a verificaciones de seguridad y pueden requerir documentación adicional según el monto y destino.</p>
            
            <p><strong>6. PROTECCIÓN FDIC</strong></p>
            <p>Sus depósitos están protegidos por el FDIC hasta $250,000 por depositante, por banco, por categoría de propiedad.</p>
            
            <p><strong>7. ACTIVACIÓN DE ZELLE®</strong></p>
            <p>Zelle® estará disponible inmediatamente después de la activación de su cuenta. Los límites diarios aplican según su tipo de cuenta.</p>
            
            <p><strong>8. CIERRE DE CUENTA</strong></p>
            <p>Chase Bank se reserva el derecho de cerrar cuentas que no cumplan con las políticas del banco o regulaciones aplicables.</p>
            
            <p><strong>9. MODIFICACIONES</strong></p>
            <p>Chase Bank puede modificar estos términos con notificación previa de 30 días.</p>
            
            <p><strong>10. LEY APLICABLE</strong></p>
            <p>Esta cuenta se rige por las leyes del estado donde se abre la cuenta y las leyes federales de Estados Unidos.</p>
          </div>
        </div>

        <div class="terms-acceptance">
          <div class="terms-checkbox">
            <input type="checkbox" id="accept-terms" required>
            <label for="accept-terms">
              He leído y acepto los términos y condiciones de Chase Bank. Entiendo que esta cuenta estará sujeta a las regulaciones bancarias de Estados Unidos.
            </label>
          </div>
          
          <div class="terms-checkbox">
            <input type="checkbox" id="accept-kyc" required>
            <label for="accept-kyc">
              Autorizo a Chase Bank a verificar mi identidad y realizar las verificaciones necesarias según las regulaciones KYC y AML.
            </label>
          </div>
          
          <div class="terms-checkbox">
            <input type="checkbox" id="accept-fatca" required>
            <label for="accept-fatca">
              Entiendo y acepto el cumplimiento con FATCA y CRS para el intercambio de información fiscal con las autoridades correspondientes.
            </label>
          </div>
          
          <div class="terms-checkbox">
            <input type="checkbox" id="accept-fees" required>
            <label for="accept-fees">
              He revisado y acepto la estructura de comisiones y tarifas aplicables a mi tipo de cuenta.
            </label>
          </div>
          
          <div class="error-message" id="terms-error" style="margin-top: 1rem;"></div>
        </div>

        <div style="display: flex; gap: 1rem; margin-top: 1.5rem;">
          <button class="btn btn-outline" id="back-step-4" style="flex: 1;">
            <i class="fas fa-arrow-left"></i>
            Anterior
          </button>
          <button class="btn btn-primary" id="continue-step-4" style="flex: 2;">
            Continuar
            <i class="fas fa-arrow-right"></i>
          </button>
        </div>
      </div>
    </div>

    <!-- Step 5: Account Creation -->
    <div class="step-content" id="step-5">
      <div class="card">
        <h2 style="margin-bottom: 1rem; color: var(--chase-blue);">Confirmación Final</h2>
        <p style="margin-bottom: 1.5rem; color: var(--neutral-600);">Revise su información y confirme la creación de su cuenta Chase Bank</p>

        <div class="info-box">
          <div class="info-box-title">
            <i class="fas fa-check-circle"></i>
            Resumen de su Solicitud
          </div>
          <div class="info-box-content">
            <strong>Tipo de Cuenta:</strong> <span id="summary-account-type">Chase Premier Banking</span><br>
            <strong>Titular:</strong> <span id="summary-name">Nombre Completo</span><br>
            <strong>Nacionalidad:</strong> <span id="summary-nationality">Venezuela</span><br>
            <strong>Servicios Incluidos:</strong> Cuenta corriente, ahorros, tarjeta débito, Zelle®, transferencias internacionales
          </div>
        </div>

        <div class="warning-box">
          <div class="warning-box-title">
            <i class="fas fa-exclamation-triangle"></i>
            Importante - Proceso de Activación
          </div>
          <div class="warning-box-content">
            Una vez confirmada, su cuenta será creada inmediatamente y recibirá todos los datos bancarios necesarios. El proceso de verificación puede tomar hasta 24 horas para completarse.
          </div>
        </div>

        <div style="display: flex; gap: 1rem; margin-top: 1.5rem;">
          <button class="btn btn-outline" id="back-step-5" style="flex: 1;">
            <i class="fas fa-arrow-left"></i>
            Anterior
          </button>
          <button class="btn btn-primary" id="create-account" style="flex: 2;">
            <i class="fas fa-university"></i>
            Crear Cuenta Chase
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Account Dashboard (shown after account creation) -->
  <div class="account-dashboard" id="account-dashboard">
    
    <!-- Account Details Card -->
    <div class="bank-details-card">
      <div class="bank-details-header">
        <div class="bank-details-logo">CHASE BANK</div>
        <div class="account-status">ACTIVA</div>
      </div>
      
      <div class="bank-details-grid">
        <div class="bank-detail-item">
          <div class="bank-detail-label">Titular de la Cuenta</div>
          <div class="bank-detail-value" id="account-holder-display">
            <span id="account-holder-name">NOMBRE COMPLETO</span>
            <button class="copy-btn" data-copy="account-holder"><i class="fas fa-copy"></i></button>
          </div>
        </div>
        
        <div class="bank-detail-item">
          <div class="bank-detail-label">Número de Cuenta</div>
          <div class="bank-detail-value" id="account-number-display">
            <span id="account-number-value">000000000000</span>
            <button class="copy-btn" data-copy="account-number"><i class="fas fa-copy"></i></button>
          </div>
        </div>
        
        <div class="bank-detail-item">
          <div class="bank-detail-label">Número de Ruta (ABA)</div>
          <div class="bank-detail-value" id="routing-number-display">
            <span id="routing-number-value">021000021</span>
            <button class="copy-btn" data-copy="routing-number"><i class="fas fa-copy"></i></button>
          </div>
        </div>
        
        <div class="bank-detail-item">
          <div class="bank-detail-label">Código SWIFT</div>
          <div class="bank-detail-value" id="swift-code-display">
            <span id="swift-code-value">CHASUS33</span>
            <button class="copy-btn" data-copy="swift-code"><i class="fas fa-copy"></i></button>
          </div>
        </div>
        
        <div class="bank-detail-item">
          <div class="bank-detail-label">Dirección del Banco</div>
          <div class="bank-detail-value" style="font-size: 0.9rem; line-height: 1.3;">
            <span>JPMorgan Chase Bank, N.A.<br>270 Park Avenue<br>New York, NY 10017</span>
            <button class="copy-btn" data-copy="bank-address"><i class="fas fa-copy"></i></button>
          </div>
        </div>
        
        <div class="bank-detail-item">
          <div class="bank-detail-label">Tipo de Cuenta</div>
          <div class="bank-detail-value">
            <span id="account-type-display">PREMIER BANKING</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Quick Actions -->
    <div class="card">
      <h3 style="margin-bottom: 1.5rem; color: var(--chase-blue);">Acciones Rápidas</h3>
      
      <div class="quick-actions">
        <a href="javascript:void(0)" class="quick-action" id="activate-zelle">
          <div class="quick-action-icon">
            <i class="fas fa-bolt"></i>
          </div>
          <div class="quick-action-title">Activar Zelle®</div>
          <div class="quick-action-description">Configure transferencias instantáneas</div>
        </a>
        
        <a href="javascript:void(0)" class="quick-action" id="international-transfer">
          <div class="quick-action-icon">
            <i class="fas fa-globe"></i>
          </div>
          <div class="quick-action-title">Transferencia Internacional</div>
          <div class="quick-action-description">Envíe dinero al extranjero</div>
        </a>
        
        <a href="javascript:void(0)" class="quick-action" id="account-statements">
          <div class="quick-action-icon">
            <i class="fas fa-file-alt"></i>
          </div>
          <div class="quick-action-title">Estados de Cuenta</div>
          <div class="quick-action-description">Descargue sus estados</div>
        </a>
        
        <a href="javascript:void(0)" class="quick-action" id="contact-manager">
          <div class="quick-action-icon">
            <i class="fas fa-user-tie"></i>
          </div>
          <div class="quick-action-title">Mi Gerente</div>
          <div class="quick-action-description">Contactar gerente personal</div>
        </a>
      </div>
    </div>

    <!-- Information Card -->
    <div class="card">
      <h3 style="margin-bottom: 1rem; color: var(--chase-blue);">Información Importante</h3>
      
      <div class="info-box">
        <div class="info-box-title">
          <i class="fas fa-info-circle"></i>
          Sus Datos Bancarios
        </div>
        <div class="info-box-content">
          Estos datos son reales y pueden ser utilizados para configurar Zelle®, recibir transferencias internacionales, y realizar operaciones bancarias en Estados Unidos. Mantenga esta información segura.
        </div>
      </div>

      <div class="warning-box">
        <div class="warning-box-title">
          <i class="fas fa-shield-alt"></i>
          Seguridad de la Cuenta
        </div>
        <div class="warning-box-content">
          Su cuenta está protegida por el FDIC hasta $250,000. Nunca comparta sus datos bancarios con terceros no autorizados. Chase Bank nunca le pedirá información confidencial por email o teléfono.
        </div>
      </div>
    </div>

    <!-- Return Button -->
    <button class="btn btn-primary" id="return-to-dashboard" style="margin-top: 2rem;">
      <i class="fas fa-home"></i>
      Volver al Panel Principal
    </button>
  </div>

</div>
  </div>
  <!-- Loading Overlay -->
  <div class="loading-overlay" id="loading-overlay">
    <div class="spinner"></div>
    <div class="loading-text" id="loading-text">Creando su cuenta...</div>
    <div class="progress-bar-container">
      <div class="progress-bar" id="progress-bar"></div>
    </div>
  </div>
  <!-- Success Container -->
  <div class="success-container" id="success-container">
    <div class="success-card">
      <div class="success-checkmark">
        <i class="fas fa-university"></i>
      </div>
      <div class="success-title">¡Cuenta Creada Exitosamente!</div>
      <div class="success-message">
        Su cuenta Chase Bank ha sido creada y activada. Ya puede usar todos los servicios bancarios incluidos Zelle® para transferencias instantáneas.
      </div>
      <div class="success-actions">
        <button class="btn btn-primary" id="view-account-details">
          <i class="fas fa-eye"></i>
          Ver Datos de mi Cuenta
        </button>
        <button class="btn btn-outline" id="setup-zelle-now">
          <i class="fas fa-bolt"></i>
          Configurar Zelle Ahora
        </button>
      </div>
    </div>
  </div>
  <!-- Toast Container -->
  <div class="toast-container" id="toast-container"></div>
  <script>
    // Configuration
    const CONFIG = {
      CHASE_ROUTING: '021000021',
      CHASE_SWIFT: 'CHASUS33',
      CHASE_ADDRESS: 'JPMorgan Chase Bank, N.A.\n270 Park Avenue\nNew York, NY 10017',
      STORAGE_KEYS: {
        CHASE_ACCOUNT: 'remeexChaseAccount',
        ACCOUNT_STATUS: 'remeexChaseStatus'
      },
      ACCOUNT_TYPES: {
        premier: 'Chase Premier Banking',
        complete: 'Chase Complete Banking'
      }
    };

    // Global state
    let currentStep = 1;
    let selectedAccountType = null;
    let accountData = {
      type: '',
      holderName: '',
      dateOfBirth: '',
      nationality: '',
      passport: '',
      address: '',
      phone: '',
      ssn: '',
      accountNumber: '',
      routingNumber: CONFIG.CHASE_ROUTING,
      swiftCode: CONFIG.CHASE_SWIFT,
      status: 'inactive',
      createdDate: null
    };

    // Initialize page
    document.addEventListener('DOMContentLoaded', function() {
      initializePage();
      setupEventListeners();
      checkExistingAccount();
    });

    function initializePage() {
      // Load user data from previous registration
      const userData = JSON.parse(localStorage.getItem('visaUserData') || '{}');
      
      // Pre-fill form with known data
      if (userData.fullName || (userData.firstName && userData.lastName)) {
        const fullNameInput = document.getElementById('full-name');
        if (fullNameInput) {
          fullNameInput.value = userData.fullName || `${userData.firstName} ${userData.lastName}`;
        }
      }
      
      if (userData.nationality) {
        const nationalitySelect = document.getElementById('nationality');
        if (nationalitySelect) {
          nationalitySelect.value = userData.nationality;
        }
      }
      
      if (userData.passport) {
        const passportInput = document.getElementById('passport-number');
        if (passportInput) {
          passportInput.value = userData.passport;
        }
      }
    }

    function checkExistingAccount() {
      const existingAccount = localStorage.getItem(CONFIG.STORAGE_KEYS.CHASE_ACCOUNT);
      if (existingAccount) {
        try {
          accountData = { ...accountData, ...JSON.parse(existingAccount) };
          
          if (accountData.status === 'active') {
            // Show account dashboard directly
            showAccountDashboard();
            return;
          }
        } catch (e) {
          console.error('Error loading Chase account data:', e);
        }
      }
    }

    function setupEventListeners() {
      // Step navigation
      setupStepNavigation();
      
      // Account type selection
      setupAccountTypeSelection();
      
      // Form validation
      setupFormValidation();
      
      // Terms and conditions
      setupTermsHandling();
      
      // Account creation
      setupAccountCreation();
      
      // Dashboard actions
      setupDashboardActions();
    }

    function setupStepNavigation() {
      // Start button
      document.getElementById('start-account-setup')?.addEventListener('click', () => goToStep(2));
      
      // Back buttons
      document.getElementById('back-step-2')?.addEventListener('click', () => goToStep(1));
      document.getElementById('back-step-3')?.addEventListener('click', () => goToStep(2));
      document.getElementById('back-step-4')?.addEventListener('click', () => goToStep(3));
      document.getElementById('back-step-5')?.addEventListener('click', () => goToStep(4));
      
      // Continue buttons
      document.getElementById('continue-step-2')?.addEventListener('click', () => goToStep(3));
      document.getElementById('continue-step-3')?.addEventListener('click', () => {
        if (validatePersonalForm()) {
          updateSummary();
          goToStep(4);
        }
      });
      document.getElementById('continue-step-4')?.addEventListener('click', () => {
        if (validateTerms()) {
          goToStep(5);
        }
      });
    }

    function setupAccountTypeSelection() {
      const accountTypes = document.querySelectorAll('.account-type');
      const continueBtn = document.getElementById('continue-step-2');
      
      accountTypes.forEach(type => {
        type.addEventListener('click', function() {
          // Remove previous selection
          accountTypes.forEach(t => t.classList.remove('selected'));
          
          // Add selection
          this.classList.add('selected');
          
          // Store selection
          selectedAccountType = this.dataset.account;
          accountData.type = selectedAccountType;
          
          // Enable continue button
          if (continueBtn) {
            continueBtn.disabled = false;
          }
          
          showToast('success', 'Tipo de Cuenta Seleccionado', 
                   `Has seleccionado ${CONFIG.ACCOUNT_TYPES[selectedAccountType]}`);
        });
      });
    }

    function setupFormValidation() {
      // Personal information form
      const formInputs = ['full-name', 'date-birth', 'nationality', 'passport-number', 'us-address', 'us-phone', 'ssn-itin'];
      
      formInputs.forEach(inputId => {
        const input = document.getElementById(inputId);
        if (input) {
          input.addEventListener('input', function() {
            validateField(this);
          });
          
          input.addEventListener('blur', function() {
            validateField(this);
          });
        }
      });
      
      // Format phone number
      const phoneInput = document.getElementById('us-phone');
      if (phoneInput) {
        phoneInput.addEventListener('input', function() {
          formatUSPhoneNumber(this);
        });
      }
      
      // Format SSN/ITIN
      const ssnInput = document.getElementById('ssn-itin');
      if (ssnInput) {
        ssnInput.addEventListener('input', function() {
          formatSSN(this);
        });
      }
    }

    function setupTermsHandling() {
      const checkboxes = ['accept-terms', 'accept-kyc', 'accept-fatca', 'accept-fees'];
      
      checkboxes.forEach(checkboxId => {
        const checkbox = document.getElementById(checkboxId);
        if (checkbox) {
          checkbox.addEventListener('change', function() {
            updateTermsValidation();
          });
        }
      });
    }

    function setupAccountCreation() {
      const createBtn = document.getElementById('create-account');
      if (createBtn) {
        createBtn.addEventListener('click', function() {
          createChaseAccount();
        });
      }
      
      // Success actions
      document.getElementById('view-account-details')?.addEventListener('click', function() {
        document.getElementById('success-container').style.display = 'none';
        showAccountDashboard();
      });
      
      document.getElementById('setup-zelle-now')?.addEventListener('click', function() {
        // Pre-populate Zelle data with Chase account info
        populateZelleData();
        window.location.href = '';
      });
    }

    function setupDashboardActions() {
      // Copy buttons
      document.querySelectorAll('.copy-btn').forEach(btn => {
        btn.addEventListener('click', function() {
          const copyType = this.dataset.copy;
          let textToCopy = '';
          
          switch(copyType) {
            case 'account-holder':
              textToCopy = accountData.holderName;
              break;
            case 'account-number':
              textToCopy = accountData.accountNumber;
              break;
            case 'routing-number':
              textToCopy = accountData.routingNumber;
              break;
            case 'swift-code':
              textToCopy = accountData.swiftCode;
              break;
            case 'bank-address':
              textToCopy = CONFIG.CHASE_ADDRESS;
              break;
          }
          
          copyToClipboard(textToCopy);
        });
      });
      
      // Quick actions
      document.getElementById('activate-zelle')?.addEventListener('click', function() {
        populateZelleData();
        window.location.href = '';
      });
      
      document.getElementById('international-transfer')?.addEventListener('click', function() {
        showToast('info', 'Función Disponible', 'Las transferencias internacionales están disponibles. Contacte a su gerente para mayor información.');
      });
      
      document.getElementById('account-statements')?.addEventListener('click', function() {
        showToast('info', 'Estados de Cuenta', 'Los estados de cuenta estarán disponibles después de 30 días de actividad.');
      });
      
      document.getElementById('contact-manager')?.addEventListener('click', function() {
        showToast('info', 'Gerente Asignado', 'Su gerente personal se pondrá en contacto dentro de 24 horas.');
      });
      
      document.getElementById('return-to-dashboard')?.addEventListener('click', function() {
        window.history.back();
      });
    }

    function goToStep(step) {
      // Hide all steps
      document.querySelectorAll('.step-content').forEach(content => {
        content.classList.remove('active');
      });
      
      // Show target step
      const targetStep = document.getElementById(`step-${step}`);
      if (targetStep) {
        targetStep.classList.add('active');
      }
      
      // Update progress
      updateProgressSteps(step);
      currentStep = step;
      
      // Scroll to top
      window.scrollTo(0, 0);
    }

    function updateProgressSteps(activeStep) {
      const progressFill = document.getElementById('progressFill');
      const progressPercentage = document.getElementById('progressPercentage');
      const totalSteps = 5;
      const percentage = ((activeStep - 1) / (totalSteps - 1)) * 100;
      if (progressFill) progressFill.style.width = `${percentage}%`;
      if (progressPercentage) progressPercentage.textContent = `${Math.round(percentage)}%`;
    }

    function validateField(input) {
      const errorEl = document.getElementById(`${input.id}-error`);
      let isValid = true;
      let errorMessage = '';
      
      if (input.hasAttribute('required') && !input.value.trim()) {
        isValid = false;
        errorMessage = 'Este campo es obligatorio';
      } else {
        switch (input.id) {
          case 'passport-number':
            if (input.value.length < 6) {
              isValid = false;
              errorMessage = 'El número de pasaporte debe tener al menos 6 caracteres';
            }
            break;
          case 'us-phone':
            const cleanPhone = input.value.replace(/\D/g, '');
            if (cleanPhone.length !== 10) {
              isValid = false;
              errorMessage = 'El número de teléfono debe tener 10 dígitos';
            }
            break;
          case 'date-birth':
            const birthDate = new Date(input.value);
            const today = new Date();
            const age = today.getFullYear() - birthDate.getFullYear();
            if (age < 18 || age > 120) {
              isValid = false;
              errorMessage = 'Debe ser mayor de 18 años';
            }
            break;
        }
      }
      
      if (errorEl) {
        errorEl.textContent = errorMessage;
        errorEl.style.display = isValid ? 'none' : 'block';
      }
      
      input.classList.toggle('error', !isValid);
      input.classList.toggle('success', isValid && input.value.trim());
      
      return isValid;
    }

    function formatUSPhoneNumber(input) {
      let value = input.value.replace(/\D/g, '');
      
      if (value.length > 0) {
        if (value.length <= 3) {
          value = `+1 (${value}`;
        } else if (value.length <= 6) {
          value = `+1 (${value.slice(0, 3)}) ${value.slice(3)}`;
        } else {
          value = `+1 (${value.slice(0, 3)}) ${value.slice(3, 6)}-${value.slice(6, 10)}`;
        }
      }
      
      input.value = value;
    }

    function formatSSN(input) {
      let value = input.value.replace(/\D/g, '');
      
      if (value.length > 0) {
        if (value.length <= 3) {
          value = value;
        } else if (value.length <= 5) {
          value = `${value.slice(0, 3)}-${value.slice(3)}`;
        } else {
          value = `${value.slice(0, 3)}-${value.slice(3, 5)}-${value.slice(5, 9)}`;
        }
      }
      
      input.value = value;
    }

    function validatePersonalForm() {
      const requiredInputs = ['full-name', 'date-birth', 'nationality', 'passport-number', 'us-address', 'us-phone'];
      let allValid = true;
      
      requiredInputs.forEach(inputId => {
        const input = document.getElementById(inputId);
        if (input && !validateField(input)) {
          allValid = false;
        }
      });
      
      if (!allValid) {
        showToast('error', 'Formulario Incompleto', 'Por favor complete todos los campos obligatorios correctamente.');
      }
      
      return allValid;
    }

    function validateTerms() {
      const checkboxes = ['accept-terms', 'accept-kyc', 'accept-fatca', 'accept-fees'];
      const termsError = document.getElementById('terms-error');
      
      let allChecked = true;
      checkboxes.forEach(checkboxId => {
        const checkbox = document.getElementById(checkboxId);
        if (checkbox && !checkbox.checked) {
          allChecked = false;
        }
      });
      
      if (!allChecked) {
        if (termsError) {
          termsError.textContent = 'Debe aceptar todos los términos y condiciones para continuar';
          termsError.style.display = 'block';
        }
        showToast('error', 'Términos Requeridos', 'Debe aceptar todos los términos para crear su cuenta.');
        return false;
      }
      
      if (termsError) {
        termsError.style.display = 'none';
      }
      
      return true;
    }

    function updateTermsValidation() {
      const checkboxes = ['accept-terms', 'accept-kyc', 'accept-fatca', 'accept-fees'];
      const continueBtn = document.getElementById('continue-step-4');
      
      let allChecked = true;
      checkboxes.forEach(checkboxId => {
        const checkbox = document.getElementById(checkboxId);
        if (checkbox && !checkbox.checked) {
          allChecked = false;
        }
      });
      
      if (continueBtn) {
        continueBtn.disabled = !allChecked;
      }
    }

    function updateSummary() {
      // Update summary information
      const summaryAccountType = document.getElementById('summary-account-type');
      const summaryName = document.getElementById('summary-name');
      const summaryNationality = document.getElementById('summary-nationality');
      
      if (summaryAccountType) {
        summaryAccountType.textContent = CONFIG.ACCOUNT_TYPES[selectedAccountType] || selectedAccountType;
      }
      
      if (summaryName) {
        const nameInput = document.getElementById('full-name');
        summaryName.textContent = nameInput ? nameInput.value : '';
      }
      
      if (summaryNationality) {
        const nationalitySelect = document.getElementById('nationality');
        const selectedOption = nationalitySelect?.options[nationalitySelect.selectedIndex];
        summaryNationality.textContent = selectedOption ? selectedOption.text : '';
      }
    }

    function createChaseAccount() {
      // Collect all form data
      collectFormData();
      
      // Generate account number
      accountData.accountNumber = generateAccountNumber();
      accountData.status = 'active';
      accountData.createdDate = new Date().toISOString();
      
      // Show loading
      const loadingOverlay = document.getElementById('loading-overlay');
      if (loadingOverlay) loadingOverlay.style.display = 'flex';
      
      // Animate progress
      const progressBar = document.getElementById('progress-bar');
      const loadingText = document.getElementById('loading-text');
      
      if (progressBar && loadingText) {
        gsap.to(progressBar, {
          width: '20%',
          duration: 1,
          ease: 'power1.inOut',
          onUpdate: function() {
            loadingText.textContent = "Verificando documentación...";
          },
          onComplete: function() {
            gsap.to(progressBar, {
              width: '40%',
              duration: 1.5,
              ease: 'power1.inOut',
              onUpdate: function() {
                loadingText.textContent = "Creando cuenta en Chase Bank...";
              },
              onComplete: function() {
                gsap.to(progressBar, {
                  width: '70%',
                  duration: 1,
                  ease: 'power1.inOut',
                  onUpdate: function() {
                    loadingText.textContent = "Generando números de cuenta...";
                  },
                  onComplete: function() {
                    gsap.to(progressBar, {
                      width: '90%',
                      duration: 1,
                      ease: 'power1.inOut',
                      onUpdate: function() {
                        loadingText.textContent = "Activando servicios bancarios...";
                      },
                      onComplete: function() {
                        gsap.to(progressBar, {
                          width: '100%',
                          duration: 0.8,
                          ease: 'power1.inOut',
                          onUpdate: function() {
                            loadingText.textContent = "¡Cuenta creada exitosamente!";
                          },
                          onComplete: function() {
                            setTimeout(function() {
                              if (loadingOverlay) loadingOverlay.style.display = 'none';
                              
                              // Save account data
                              saveAccountData();
                              
                              // Show success
                              const successContainer = document.getElementById('success-container');
                              if (successContainer) successContainer.style.display = 'flex';
                              
                              // Add confetti effect
                              setTimeout(() => {
                                confetti({
                                  particleCount: 200,
                                  spread: 100,
                                  origin: { y: 0.6 }
                                });
                              }, 500);
                            }, 800);
                          }
                        });
                      }
                    });
                  }
                });
              }
            });
          }
        });
      }
    }

    function collectFormData() {
      accountData.holderName = document.getElementById('full-name')?.value || '';
      accountData.dateOfBirth = document.getElementById('date-birth')?.value || '';
      accountData.nationality = document.getElementById('nationality')?.value || '';
      accountData.passport = document.getElementById('passport-number')?.value || '';
      accountData.address = document.getElementById('us-address')?.value || '';
      accountData.phone = document.getElementById('us-phone')?.value || '';
      accountData.ssn = document.getElementById('ssn-itin')?.value || '';
    }

    function generateAccountNumber() {
      // Generate a realistic Chase account number (12 digits)
      let accountNumber = '';
      for (let i = 0; i < 12; i++) {
        accountNumber += Math.floor(Math.random() * 10);
      }
      return accountNumber;
    }

    function saveAccountData() {
      try {
        localStorage.setItem(CONFIG.STORAGE_KEYS.CHASE_ACCOUNT, JSON.stringify(accountData));
        localStorage.setItem(CONFIG.STORAGE_KEYS.ACCOUNT_STATUS, 'active');
        
        // Also save to main user data for integration
        const userData = JSON.parse(localStorage.getItem('visaUserData') || '{}');
        userData.chaseAccount = {
          active: true,
          accountNumber: accountData.accountNumber,
          routingNumber: accountData.routingNumber,
          swiftCode: accountData.swiftCode,
          holderName: accountData.holderName
        };
        localStorage.setItem('visaUserData', JSON.stringify(userData));
        
      } catch (error) {
        console.error('Error saving Chase account data:', error);
      }
    }

    function showAccountDashboard() {
      // Hide setup flow
      document.getElementById('account-setup').style.display = 'none';
      
      // Show dashboard
      const dashboard = document.getElementById('account-dashboard');
      dashboard.classList.add('active');
      
      // Populate account details
      populateAccountDisplay();
    }

    function populateAccountDisplay() {
      // Populate all the account details in the dashboard
      document.getElementById('account-holder-name').textContent = accountData.holderName.toUpperCase();
      document.getElementById('account-number-value').textContent = accountData.accountNumber;
      document.getElementById('routing-number-value').textContent = accountData.routingNumber;
      document.getElementById('swift-code-value').textContent = accountData.swiftCode;
      document.getElementById('account-type-display').textContent = CONFIG.ACCOUNT_TYPES[accountData.type]?.toUpperCase() || accountData.type.toUpperCase();
      
      // Update copy button data attributes
      document.querySelectorAll('.copy-btn').forEach(btn => {
        const copyType = btn.dataset.copy;
        let copyValue = '';
        
        switch(copyType) {
          case 'account-holder':
            copyValue = accountData.holderName;
            break;
          case 'account-number':
            copyValue = accountData.accountNumber;
            break;
          case 'routing-number':
            copyValue = accountData.routingNumber;
            break;
          case 'swift-code':
            copyValue = accountData.swiftCode;
            break;
          case 'bank-address':
            copyValue = CONFIG.CHASE_ADDRESS;
            break;
        }
        
        btn.setAttribute('data-copy-value', copyValue);
      });
    }

    function populateZelleData() {
      // Pre-populate Zelle configuration with Chase account data
      const zelleData = {
        bank: 'chase',
        accountHolder: accountData.holderName,
        accountNumber: accountData.accountNumber,
        routingNumber: accountData.routingNumber,
        email: localStorage.getItem('visaUserData') ? JSON.parse(localStorage.getItem('visaUserData')).email : '',
        phone: accountData.phone
      };
      
      sessionStorage.setItem('zellePrePopulate', JSON.stringify(zelleData));
    }

    function copyToClipboard(text) {
      if (!text) {
        showToast('error', 'Error', 'No hay texto para copiar');
        return;
      }
      
      // Create temporary textarea
      const textarea = document.createElement('textarea');
      textarea.value = text;
      textarea.style.position = 'fixed';
      textarea.style.opacity = '0';
      document.body.appendChild(textarea);
      textarea.select();
      
      try {
        document.execCommand('copy');
        showToast('success', 'Copiado', 'Información copiada al portapapeles');
      } catch (err) {
        showToast('error', 'Error', 'No se pudo copiar el texto');
      }
      
      document.body.removeChild(textarea);
    }

    function showToast(type, title, message, duration = 4000) {
      const toastContainer = document.getElementById('toast-container');
      
      const toast = document.createElement('div');
      toast.className = `toast ${type}`;
      
      const content = `
        <div class="toast-icon">
          <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-circle' : type === 'warning' ? 'exclamation-triangle' : 'info-circle'}"></i>
        </div>
        <div class="toast-content">
          <div class="toast-title">${escapeHTML(title)}</div>
          <div class="toast-message">${escapeHTML(message)}</div>
        </div>
        <div class="toast-close">
          <i class="fas fa-times"></i>
        </div>
      `;
      
      toast.innerHTML = content;
      toastContainer.appendChild(toast);
      
      // Auto remove after duration
      setTimeout(() => {
        toast.style.opacity = '0';
        setTimeout(() => {
          toast.remove();
        }, 300);
      }, duration);
      
      // Close button
      const closeBtn = toast.querySelector('.toast-close');
      if (closeBtn) {
        closeBtn.addEventListener('click', function() {
          toast.style.opacity = '0';
          setTimeout(() => {
            toast.remove();
          }, 300);
        });
      }
    }

    function escapeHTML(str) {
      return str
        .replace(/&/g, "&amp;")
        .replace(/</g, "&lt;")
        .replace(/>/g, "&gt;")
        .replace(/"/g, "&quot;")
        .replace(/'/g, "&#039;");
    }

    // Initialize progress
    updateProgressSteps(1);
  </script>
<div id="bottom-nav-container"></div>
<script src="bottom-nav.js"></script>
</body>
</html>
  <script src="preload.js"></script>
