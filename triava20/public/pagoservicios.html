
<!DOCTYPE html>
<html lang="es">
<head>
  <script src="repair.js"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Pago de Servicios - REMEEX Visa Banking</title>
  <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
  <link rel="apple-touch-icon" href="visabluapple.png">
  <meta name="description" content="Remeex VISA: transferencias globales sin comisiones, rapidas y seguras."/>
  <meta name="keywords" content="remesas, transferencias internacionales, enviar dinero, VISA"/>
  <meta name="author" content="Remeex VISA"/>
  <meta name="robots" content="index, follow"/>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.11.4/dist/gsap.min.js"></script>
<style>
    :root {
        /* Colores del sistema REMEEX */
        --primary: #1a1f71;
        --primary-dark: #0c1045;
        --primary-light: #3244b6;
        --secondary: #00579f;
        --accent: #f7b600;
        --success: #00d34d;
        --danger: #ff4d4d;
        --warning: #ffad33;
        --info: #0095ff;
        --neutral-100: #ffffff;
        --neutral-200: #f5f7fa;
        --neutral-300: #eaecf0;
        --neutral-400: #d0d5dd;
        --neutral-500: #9da4b4;
        --neutral-600: #6e7891;
        --neutral-700: #4f5d75;
        --neutral-800: #293249;
        --neutral-900: #1a1f37;

        --shadow-sm: 0 1px 3px rgba(16, 24, 40, 0.1);
        --shadow-md: 0 4px 8px -2px rgba(16, 24, 40, 0.1), 0 2px 4px -2px rgba(16, 24, 40, 0.06);
        --shadow-lg: 0 12px 16px -4px rgba(16, 24, 40, 0.08), 0 4px 6px -2px rgba(16, 24, 40, 0.03);
        --shadow-xl: 0 20px 24px -4px rgba(16, 24, 40, 0.08), 0 8px 8px -4px rgba(16, 24, 40, 0.03);
        
        --radius-sm: 6px;
        --radius-md: 12px;
        --radius-lg: 16px;
        --radius-xl: 24px;
        --radius-full: 9999px;
        
        --transition-fast: all 0.2s ease;
        --transition-base: all 0.3s ease;
        --transition-slow: all 0.5s ease;
        
        --card-gradient: linear-gradient(135deg, #1a1f71 0%, #0c1045 100%);
        --success-gradient: linear-gradient(135deg, #00c057 0%, #00a346 100%);
        
        --animation-bounce: cubic-bezier(0.34, 1.56, 0.64, 1);
    }

    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    body {
        font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
        background: var(--neutral-200);
        color: var(--neutral-900);
        line-height: 1.5;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
    }

    /* Header */
    .app-header {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 0.6rem 1rem;
        background: var(--neutral-100);
        border-bottom: 1px solid var(--neutral-300);
        box-shadow: var(--shadow-sm);
        z-index: 1000;
        height: 60px;
    }

    .header-brand {
        display: flex;
        align-items: center;
        gap: 0.5rem;
    }

    .header-brand img {
        height: 32px;
        width: auto;
    }

    .header-actions {
        display: flex;
        align-items: center;
        gap: 0.5rem;
    }

    .header-action-btn {
        width: 36px;
        height: 36px;
        border-radius: var(--radius-full);
        display: flex;
        align-items: center;
        justify-content: center;
        background: var(--neutral-200);
        color: var(--neutral-700);
        border: none;
        cursor: pointer;
        transition: var(--transition-base);
    }

    .header-action-btn:hover {
        background: var(--neutral-300);
        color: var(--neutral-900);
    }

    /* Main Container */
    .main-container {
        padding-top: 60px;
        padding-bottom: 70px;
        min-height: 100vh;
        max-width: 1200px;
        margin: 0 auto;
        padding-left: 1rem;
        padding-right: 1rem;
    }

    /* Page Header */
    .page-header {
        display: flex;
        align-items: center;
        gap: 1rem;
        margin: 1.5rem 0;
    }

    .back-btn {
        width: 40px;
        height: 40px;
        border-radius: var(--radius-full);
        background: var(--neutral-200);
        border: none;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: var(--transition-base);
    }

    .back-btn:hover {
        background: var(--primary);
        color: white;
    }

    .page-title {
        font-size: 1.5rem;
        font-weight: 700;
        color: var(--neutral-900);
    }

    /* Balance Card */
    .balance-summary {
        background: var(--card-gradient);
        border-radius: var(--radius-lg);
        padding: 1.25rem;
        color: white;
        box-shadow: var(--shadow-lg);
        margin-bottom: 1.5rem;
        position: relative;
        overflow: hidden;
    }

    .balance-summary::after {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
        animation: shine 3s infinite;
    }

    @keyframes shine {
        100% { left: 200%; }
    }

    .balance-content {
        position: relative;
        z-index: 2;
    }

    .balance-label {
        font-size: 0.85rem;
        opacity: 0.8;
        margin-bottom: 0.5rem;
    }

    .balance-amount {
        font-size: 2rem;
        font-weight: 700;
        margin-bottom: 0.25rem;
    }

    .balance-equivalent {
        font-size: 0.85rem;
        opacity: 0.9;
    }

    /* Service Categories */
    .service-categories {
        margin-bottom: 2rem;
    }

    .section-title {
        font-size: 1.1rem;
        font-weight: 600;
        color: var(--neutral-900);
        margin-bottom: 1rem;
        display: flex;
        align-items: center;
        gap: 0.5rem;
    }

    .section-title i {
        color: var(--primary);
    }

    .categories-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
        gap: 1rem;
    }

    .category-card {
        background: var(--neutral-100);
        border-radius: var(--radius-lg);
        padding: 1.25rem;
        text-align: center;
        cursor: pointer;
        transition: all 0.3s var(--animation-bounce);
        box-shadow: var(--shadow-sm);
        border: 2px solid transparent;
    }

    .category-card:hover {
        transform: translateY(-5px);
        box-shadow: var(--shadow-md);
        border-color: var(--primary-light);
    }

    .category-card.active {
        border-color: var(--primary);
        background: rgba(26, 31, 113, 0.05);
    }

    .category-icon {
        width: 50px;
        height: 50px;
        border-radius: var(--radius-full);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.5rem;
        margin: 0 auto 0.75rem;
        color: white;
    }

    .category-icon.electricity {
        background: var(--warning);
    }

    .category-icon.water {
        background: var(--info);
    }

    .category-icon.internet {
        background: var(--secondary);
    }

    .category-icon.mobile {
        background: var(--success);
    }

    .category-icon.gas {
        background: var(--danger);
    }

    .category-icon.tv {
        background: var(--primary-light);
    }

    .category-icon.education {
        background: var(--accent);
        color: var(--neutral-900);
    }

    .category-icon.insurance {
        background: var(--primary-dark);
    }

    .category-name {
        font-weight: 600;
        font-size: 0.9rem;
        color: var(--neutral-900);
        margin-bottom: 0.25rem;
    }

    .category-description {
        font-size: 0.75rem;
        color: var(--neutral-600);
    }

    /* Service Selection */
    .service-selection {
        display: none;
        margin-bottom: 2rem;
    }

    .service-selection.active {
        display: block;
        animation: fadeIn 0.5s ease;
    }

    .services-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 1rem;
    }

    .service-card {
        background: var(--neutral-100);
        border-radius: var(--radius-md);
        padding: 1rem;
        cursor: pointer;
        transition: var(--transition-base);
        box-shadow: var(--shadow-sm);
        border: 2px solid transparent;
    }

    .service-card:hover {
        border-color: var(--primary-light);
        box-shadow: var(--shadow-md);
    }

    .service-card.selected {
        border-color: var(--primary);
        background: rgba(26, 31, 113, 0.05);
    }

    .service-header {
        display: flex;
        align-items: center;
        gap: 0.75rem;
        margin-bottom: 0.75rem;
    }

    .service-logo {
        width: 50px;
        height: 50px;
        border-radius: var(--radius-md);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.5rem;
        flex-shrink: 0;
    }

    .service-info {
        flex: 1;
        min-width: 0;
    }

    .service-name {
        font-weight: 600;
        font-size: 0.9rem;
        color: var(--neutral-900);
        margin-bottom: 0.125rem;
    }

    .service-type {
        font-size: 0.75rem;
        color: var(--neutral-600);
    }

    .service-features {
        display: flex;
        flex-wrap: wrap;
        gap: 0.5rem;
    }

    .service-feature {
        background: var(--neutral-200);
        border-radius: var(--radius-sm);
        padding: 0.25rem 0.5rem;
        font-size: 0.7rem;
        color: var(--neutral-700);
    }

    /* Payment Form */
    .payment-form {
        display: none;
        background: var(--neutral-100);
        border-radius: var(--radius-lg);
        padding: 1.5rem;
        box-shadow: var(--shadow-md);
        margin-bottom: 2rem;
    }

    .payment-form.active {
        display: block;
        animation: fadeIn 0.5s ease;
    }

    .form-section {
        margin-bottom: 2rem;
    }

    .form-section:last-child {
        margin-bottom: 0;
    }

    .form-section-title {
        font-size: 1rem;
        font-weight: 600;
        color: var(--neutral-900);
        margin-bottom: 1rem;
        display: flex;
        align-items: center;
        gap: 0.5rem;
    }

    .form-section-title i {
        color: var(--primary);
    }

    .form-group {
        margin-bottom: 1.25rem;
    }

    .form-label {
        display: block;
        font-size: 0.85rem;
        font-weight: 500;
        color: var(--neutral-700);
        margin-bottom: 0.5rem;
    }

    .form-control {
        width: 100%;
        height: 44px;
        padding: 0 1rem;
        border: 1px solid var(--neutral-400);
        border-radius: var(--radius-md);
        font-size: 0.85rem;
        color: var(--neutral-900);
        background: var(--neutral-100);
        transition: var(--transition-base);
    }

    .form-control:focus {
        outline: none;
        border-color: var(--primary);
        box-shadow: 0 0 0 3px rgba(26, 31, 113, 0.15);
    }

    .form-row {
        display: flex;
        gap: 1rem;
    }

    .form-col {
        flex: 1;
    }

    .input-group {
        position: relative;
    }

    .input-icon {
        position: absolute;
        left: 1rem;
        top: 50%;
        transform: translateY(-50%);
        color: var(--neutral-500);
        font-size: 0.9rem;
    }

    .input-group .form-control {
        padding-left: 2.5rem;
    }

    .search-btn {
        position: absolute;
        right: 0.5rem;
        top: 50%;
        transform: translateY(-50%);
        background: var(--primary);
        color: white;
        border: none;
        border-radius: var(--radius-md);
        width: 36px;
        height: 36px;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: var(--transition-base);
    }

    .search-btn:hover {
        background: var(--primary-light);
    }

    /* Bill Information */
    .bill-info {
        display: none;
        background: var(--neutral-200);
        border-radius: var(--radius-md);
        padding: 1.25rem;
        margin: 1rem 0;
    }

    .bill-info.active {
        display: block;
        animation: fadeIn 0.5s ease;
    }

    .bill-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 1rem;
        padding-bottom: 0.75rem;
        border-bottom: 1px solid var(--neutral-300);
    }

    .bill-status {
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        padding: 0.25rem 0.75rem;
        border-radius: var(--radius-full);
        font-size: 0.75rem;
        font-weight: 600;
    }

    .bill-status.pending {
        background: rgba(255, 173, 51, 0.15);
        color: var(--warning);
    }

    .bill-status.overdue {
        background: rgba(255, 77, 77, 0.15);
        color: var(--danger);
    }

    .bill-status.paid {
        background: rgba(0, 211, 77, 0.15);
        color: var(--success);
    }

    .bill-details {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
        gap: 1rem;
    }

    .bill-detail {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 0.5rem 0;
    }

    .bill-label {
        font-size: 0.8rem;
        color: var(--neutral-600);
    }

    .bill-value {
        font-size: 0.85rem;
        font-weight: 600;
        color: var(--neutral-900);
    }

    .bill-amount {
        font-size: 1.25rem;
        font-weight: 700;
        color: var(--primary);
    }

    /* Payment Summary */
    .payment-summary {
        background: var(--neutral-200);
        border-radius: var(--radius-md);
        padding: 1.25rem;
        margin: 1.5rem 0;
    }

    .summary-row {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 0.75rem;
        padding-bottom: 0.75rem;
        border-bottom: 1px solid var(--neutral-300);
    }

    .summary-row:last-child {
        margin-bottom: 0;
        padding-bottom: 0;
        border-bottom: none;
        font-weight: 600;
        font-size: 1.1rem;
    }

    .summary-label {
        font-size: 0.85rem;
        color: var(--neutral-700);
    }

    .summary-value {
        font-size: 0.9rem;
        font-weight: 500;
        color: var(--neutral-900);
    }

    /* Buttons */
    .btn {
        display: flex;
        align-items: center;
        justify-content: center;
        height: 44px;
        padding: 0 1.5rem;
        border-radius: var(--radius-md);
        font-weight: 600;
        font-size: 0.85rem;
        border: none;
        cursor: pointer;
        transition: all 0.3s var(--animation-bounce);
        gap: 0.5rem;
    }

    .btn-primary {
        background: var(--primary);
        color: white;
    }

    .btn-primary:hover {
        background: var(--primary-light);
        transform: translateY(-3px);
        box-shadow: var(--shadow-md);
    }

    .btn-primary:disabled {
        background: var(--neutral-500);
        cursor: not-allowed;
        transform: none;
        box-shadow: none;
    }

    .btn-outline {
        background: transparent;
        border: 1px solid var(--primary);
        color: var(--primary);
    }

    .btn-outline:hover {
        background: rgba(26, 31, 113, 0.05);
        transform: translateY(-3px);
    }

    .btn-success {
        background: var(--success);
        color: white;
    }

    .btn-success:hover {
        background: #00a346;
        transform: translateY(-3px);
        box-shadow: var(--shadow-md);
    }

    .btn-full {
        width: 100%;
    }

    /* Loading Overlay */
    .loading-overlay {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.8);
        backdrop-filter: blur(5px);
        display: none;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        z-index: 1100;
    }

    .spinner {
        width: 50px;
        height: 50px;
        border: 3px solid rgba(255, 255, 255, 0.2);
        border-radius: 50%;
        border-top-color: white;
        animation: spin 1s linear infinite;
        margin-bottom: 1.5rem;
    }

    .loading-text {
        color: white;
        font-size: 1rem;
        margin-bottom: 1.5rem;
        font-weight: 500;
    }

    .progress-bar-container {
        width: 80%;
        max-width: 280px;
        height: 8px;
        background: rgba(255, 255, 255, 0.2);
        border-radius: var(--radius-full);
        overflow: hidden;
    }

    .progress-bar {
        height: 100%;
        background: white;
        width: 0%;
        border-radius: var(--radius-full);
        transition: width 0.3s ease;
    }

    /* Success Animation */
    .success-container {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.9);
        backdrop-filter: blur(10px);
        display: none;
        align-items: center;
        justify-content: center;
        z-index: 1200;
    }

    .success-card {
        background: white;
        border-radius: var(--radius-lg);
        width: 90%;
        max-width: 380px;
        padding: 2rem;
        text-align: center;
        animation: scaleIn 0.3s ease;
    }

    .success-checkmark {
        width: 80px;
        height: 80px;
        border-radius: 50%;
        background: var(--success);
        color: white;
        font-size: 2.25rem;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 1.5rem;
        transform: scale(0);
        animation: checkmarkScale 0.5s ease forwards 0.3s;
    }

    .success-title {
        font-size: 1.5rem;
        font-weight: 700;
        color: var(--neutral-900);
        margin-bottom: 0.75rem;
        opacity: 0;
        animation: fadeInUp 0.5s ease forwards 0.8s;
    }

    .success-amount {
        font-size: 2.25rem;
        font-weight: 700;
        color: var(--primary);
        margin-bottom: 0.5rem;
        opacity: 0;
        animation: fadeInUp 0.5s ease forwards 1.1s;
    }

    .success-service {
        font-size: 1rem;
        color: var(--neutral-600);
        margin-bottom: 1.25rem;
        opacity: 0;
        animation: fadeInUp 0.5s ease forwards 1.4s;
    }

    .success-actions {
        display: flex;
        flex-direction: column;
        gap: 1rem;
        opacity: 0;
        animation: fadeInUp 0.5s ease forwards 1.7s;
    }

    /* Recent Payments */
    .recent-payments {
        margin-bottom: 2rem;
    }

    .payment-item {
        display: flex;
        align-items: center;
        gap: 0.75rem;
        padding: 1rem;
        background: var(--neutral-100);
        border-radius: var(--radius-md);
        margin-bottom: 0.75rem;
        transition: var(--transition-base);
        cursor: pointer;
    }

    .payment-item:hover {
        background: var(--neutral-200);
        transform: translateX(5px);
    }

    .payment-icon {
        width: 50px;
        height: 50px;
        border-radius: var(--radius-full);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.5rem;
        color: white;
        flex-shrink: 0;
    }

    .payment-content {
        flex: 1;
        min-width: 0;
    }

    .payment-name {
        font-weight: 600;
        font-size: 0.9rem;
        color: var(--neutral-900);
        margin-bottom: 0.125rem;
    }

    .payment-details {
        font-size: 0.75rem;
        color: var(--neutral-600);
    }

    .payment-amount {
        font-weight: 600;
        font-size: 0.85rem;
        color: var(--success);
    }

    /* Toast Notifications */
    .toast-container {
        position: fixed;
        top: 70px;
        right: 16px;
        z-index: 9999;
        display: flex;
        flex-direction: column;
        gap: 0.75rem;
    }

    .toast {
        background: var(--neutral-900);
        color: white;
        border-radius: var(--radius-md);
        padding: 0.75rem 1rem;
        min-width: 250px;
        max-width: 320px;
        box-shadow: var(--shadow-lg);
        display: flex;
        align-items: center;
        gap: 0.75rem;
        animation: slideInRight 0.3s ease, fadeOut 0.3s ease 3s forwards;
    }

    .toast.success {
        border-left: 4px solid var(--success);
    }

    .toast.error {
        border-left: 4px solid var(--danger);
    }

    .toast.warning {
        border-left: 4px solid var(--warning);
    }

    .toast.info {
        border-left: 4px solid var(--info);
    }

    .toast-icon {
        flex-shrink: 0;
    }

    .toast-content {
        flex: 1;
        min-width: 0;
    }

    .toast-title {
        font-weight: 600;
        font-size: 0.85rem;
        margin-bottom: 0.2rem;
    }

    .toast-message {
        font-size: 0.75rem;
        opacity: 0.9;
        word-wrap: break-word;
    }

    .toast-close {
        color: var(--neutral-400);
        cursor: pointer;
        transition: var(--transition-base);
        flex-shrink: 0;
    }

    .toast-close:hover {
        color: white;
    }

    /* Animations */
    @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
    }

    @keyframes scaleIn {
        from { transform: scale(0.9); opacity: 0; }
        to { transform: scale(1); opacity: 1; }
    }

    @keyframes fadeInUp {
        from { opacity: 0; transform: translateY(20px); }
        to { opacity: 1; transform: translateY(0); }
    }

    @keyframes checkmarkScale {
        from { transform: scale(0); }
        to { transform: scale(1); }
    }

    @keyframes spin {
        to { transform: rotate(360deg); }
    }

    @keyframes slideInRight {
        from { transform: translateX(100%); opacity: 0; }
        to { transform: translateX(0); opacity: 1; }
    }

    @keyframes fadeOut {
        from { opacity: 1; }
        to { opacity: 0; visibility: hidden; }
    }

    /* Responsive */
    @media (max-width: 768px) {
        .categories-grid {
            grid-template-columns: repeat(2, 1fr);
        }

        .services-grid {
            grid-template-columns: 1fr;
        }

        .form-row {
            flex-direction: column;
        }

        .bill-details {
            grid-template-columns: 1fr;
        }
    }

    @media (max-width: 480px) {
        .categories-grid {
            grid-template-columns: 1fr;
        }

        .main-container {
            padding-left: 0.5rem;
            padding-right: 0.5rem;
        }
    }
</style>
  <link rel="stylesheet" href="responsive.css">
</head>
<body>
    <!-- Header -->
    <header class="app-header">
        <div class="header-brand">
            <a href="index">
                <img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhnBzNdjl6bNp-nIdaiHVENczJhwlJNA7ocsyiOObMmzbu8at0dY5yGcZ9cLxLF39qI6gwNfqBxlkTDC0txVULEwQVwGkeEzN0Jq9MRTRagA48mh18UqTlR4WhsXOLAEZugUyhqJHB19xJgnkpe-S5VOWFgzpKFwctv3XP9XhH41vNTvq0ZS-nik58Qhr-O/s320/remeex.png" alt="REMEEX">
            </a>
        </div>
    <div class="header-actions">
        <button class="header-action-btn" id="notification-btn" aria-label="Notificaciones">
            <i class="fas fa-bell"></i>
        </button>
        <button class="header-action-btn" id="menu-btn" aria-label="Menú">
            <i class="fas fa-bars"></i>
        </button>
    </div>
</header>

<!-- Main Container -->
<div class="main-container">
    <!-- Page Header -->
    <div class="page-header">
        <button class="back-btn" id="back-btn">
            <i class="fas fa-arrow-left"></i>
        </button>
        <h1 class="page-title">Pago de Servicios</h1>
    </div>

    <!-- Balance Summary -->
    <div class="balance-summary">
        <div class="balance-content">
            <div class="balance-label">Saldo disponible para pagos</div>
            <div class="balance-amount" id="available-balance">Bs 25.687,50</div>
            <div class="balance-equivalent" id="balance-equivalent">≈ $192.50 | ≈ €180.95</div>
        </div>
    </div>

    <!-- Service Categories -->
    <div class="service-categories">
        <div class="section-title">
            <i class="fas fa-th-large"></i>
            Categorías de Servicios
        </div>
        
        <div class="categories-grid">
            <div class="category-card" data-category="electricity">
                <div class="category-icon electricity">
                    <i class="fas fa-bolt"></i>
                </div>
                <div class="category-name">Electricidad</div>
                <div class="category-description">CORPOELEC</div>
            </div>

            <div class="category-card" data-category="water">
                <div class="category-icon water">
                    <i class="fas fa-tint"></i>
                </div>
                <div class="category-name">Agua</div>
                <div class="category-description">Hidrocapital, HIDROVEN</div>
            </div>

            <div class="category-card" data-category="internet">
                <div class="category-icon internet">
                    <i class="fas fa-wifi"></i>
                </div>
                <div class="category-name">Internet/Teléfono</div>
                <div class="category-description">CANTV, Inter, Netuno</div>
            </div>

            <div class="category-card" data-category="mobile">
                <div class="category-icon mobile">
                    <i class="fas fa-mobile-alt"></i>
                </div>
                <div class="category-name">Telefonía Móvil</div>
                <div class="category-description">Movistar, Digitel</div>
            </div>

            <div class="category-card" data-category="gas">
                <div class="category-icon gas">
                    <i class="fas fa-fire"></i>
                </div>
                <div class="category-name">Gas Doméstico</div>
                <div class="category-description">Gas del Estado</div>
            </div>

            <div class="category-card" data-category="tv">
                <div class="category-icon tv">
                    <i class="fas fa-tv"></i>
                </div>
                <div class="category-name">TV/Cable</div>
                <div class="category-description">DirecTV, SimpleTV</div>
            </div>

            <div class="category-card" data-category="education">
                <div class="category-icon education">
                    <i class="fas fa-graduation-cap"></i>
                </div>
                <div class="category-name">Educación</div>
                <div class="category-description">Universidades, Colegios</div>
            </div>

            <div class="category-card" data-category="insurance">
                <div class="category-icon insurance">
                    <i class="fas fa-shield-alt"></i>
                </div>
                <div class="category-name">Seguros</div>
                <div class="category-description">Seguros La Previsora</div>
            </div>
        </div>
    </div>

    <!-- Service Selection -->
    <div class="service-selection" id="electricity-services">
        <div class="section-title">
            <i class="fas fa-bolt"></i>
            Servicios de Electricidad
        </div>
        
        <div class="services-grid">
            <div class="service-card" data-service="corpoelec">
                <div class="service-header">
                    <div class="service-logo electricity">
                        <i class="fas fa-bolt"></i>
                    </div>
                    <div class="service-info">
                        <div class="service-name">CORPOELEC</div>
                        <div class="service-type">Electricidad Nacional</div>
                    </div>
                </div>
                <div class="service-features">
                    <span class="service-feature">Pago inmediato</span>
                    <span class="service-feature">24/7</span>
                    <span class="service-feature">Comprobante</span>
                </div>
            </div>
        </div>
    </div>

    <div class="service-selection" id="water-services">
        <div class="section-title">
            <i class="fas fa-tint"></i>
            Servicios de Agua
        </div>
        
        <div class="services-grid">
            <div class="service-card" data-service="hidrocapital">
                <div class="service-header">
                    <div class="service-logo water">
                        <i class="fas fa-tint"></i>
                    </div>
                    <div class="service-info">
                        <div class="service-name">Hidrocapital</div>
                        <div class="service-type">Agua Caracas y Miranda</div>
                    </div>
                </div>
                <div class="service-features">
                    <span class="service-feature">Consulta de deuda</span>
                    <span class="service-feature">Histórico</span>
                </div>
            </div>

            <div class="service-card" data-service="hidroven">
                <div class="service-header">
                    <div class="service-logo water">
                        <i class="fas fa-tint"></i>
                    </div>
                    <div class="service-info">
                        <div class="service-name">HIDROVEN</div>
                        <div class="service-type">Agua Nacional</div>
                    </div>
                </div>
                <div class="service-features">
                    <span class="service-feature">Múltiples estados</span>
                    <span class="service-feature">Consulta online</span>
                </div>
            </div>
        </div>
    </div>

    <div class="service-selection" id="internet-services">
        <div class="section-title">
            <i class="fas fa-wifi"></i>
            Internet y Telefonía Fija
        </div>
        
        <div class="services-grid">
            <div class="service-card" data-service="cantv-aba">
                <div class="service-header">
                    <div class="service-logo internet">
                        <i class="fas fa-wifi"></i>
                    </div>
                    <div class="service-info">
                        <div class="service-name">CANTV ABA</div>
                        <div class="service-type">Internet Fibra Óptica</div>
                    </div>
                </div>
                <div class="service-features">
                    <span class="service-feature">Fibra óptica</span>
                    <span class="service-feature">Alta velocidad</span>
                </div>
            </div>

            <div class="service-card" data-service="cantv-telefono">
                <div class="service-header">
                    <div class="service-logo internet">
                        <i class="fas fa-phone"></i>
                    </div>
                    <div class="service-info">
                        <div class="service-name">CANTV Teléfono</div>
                        <div class="service-type">Telefonía Fija Nacional</div>
                    </div>
                </div>
                <div class="service-features">
                    <span class="service-feature">Nacional</span>
                    <span class="service-feature">Línea fija</span>
                </div>
            </div>

            <div class="service-card" data-service="inter">
                <div class="service-header">
                    <div class="service-logo internet">
                        <i class="fas fa-wifi"></i>
                    </div>
                    <div class="service-info">
                        <div class="service-name">Inter</div>
                        <div class="service-type">Internet Privado</div>
                    </div>
                </div>
                <div class="service-features">
                    <span class="service-feature">Privado</span>
                    <span class="service-feature">Estable</span>
                </div>
            </div>

            <div class="service-card" data-service="netuno">
                <div class="service-header">
                    <div class="service-logo internet">
                        <i class="fas fa-satellite"></i>
                    </div>
                    <div class="service-info">
                        <div class="service-name">Netuno</div>
                        <div class="service-type">Internet Satelital</div>
                    </div>
                </div>
                <div class="service-features">
                    <span class="service-feature">Satelital</span>
                    <span class="service-feature">Cobertura amplia</span>
                </div>
            </div>
        </div>
    </div>

    <div class="service-selection" id="mobile-services">
        <div class="section-title">
            <i class="fas fa-mobile-alt"></i>
            Telefonía Móvil
        </div>
        
        <div class="services-grid">
            <div class="service-card" data-service="movistar">
                <div class="service-header">
                    <div class="service-logo mobile">
                        <i class="fas fa-mobile-alt"></i>
                    </div>
                    <div class="service-info">
                        <div class="service-name">Movistar</div>
                        <div class="service-type">Recarga y Planes</div>
                    </div>
                </div>
                <div class="service-features">
                    <span class="service-feature">Recargas</span>
                    <span class="service-feature">Planes</span>
                    <span class="service-feature">4G LTE</span>
                </div>
            </div>

            <div class="service-card" data-service="digitel">
                <div class="service-header">
                    <div class="service-logo mobile">
                        <i class="fas fa-mobile-alt"></i>
                    </div>
                    <div class="service-info">
                        <div class="service-name">Digitel</div>
                        <div class="service-type">Recarga y Planes</div>
                    </div>
                </div>
                <div class="service-features">
                    <span class="service-feature">412</span>
                    <span class="service-feature">Planes</span>
                    <span class="service-feature">Datos</span>
                </div>
            </div>

            <div class="service-card" data-service="movilnet">
                <div class="service-header">
                    <div class="service-logo mobile">
                        <i class="fas fa-mobile-alt"></i>
                    </div>
                    <div class="service-info">
                        <div class="service-name">Movilnet</div>
                        <div class="service-type">Recarga Estatal</div>
                    </div>
                </div>
                <div class="service-features">
                    <span class="service-feature">416/426</span>
                    <span class="service-feature">Estatal</span>
                </div>
            </div>
        </div>
    </div>

    <div class="service-selection" id="gas-services">
        <div class="section-title">
            <i class="fas fa-fire"></i>
            Gas Doméstico
        </div>
        
        <div class="services-grid">
            <div class="service-card" data-service="gas-estado">
                <div class="service-header">
                    <div class="service-logo gas">
                        <i class="fas fa-fire"></i>
                    </div>
                    <div class="service-info">
                        <div class="service-name">Gas del Estado</div>
                        <div class="service-type">Gas Natural Doméstico</div>
                    </div>
                </div>
                <div class="service-features">
                    <span class="service-feature">Doméstico</span>
                    <span class="service-feature">Nacional</span>
                </div>
            </div>
        </div>
    </div>

    <div class="service-selection" id="tv-services">
        <div class="section-title">
            <i class="fas fa-tv"></i>
            Televisión y Cable
        </div>
        
        <div class="services-grid">
            <div class="service-card" data-service="directv">
                <div class="service-header">
                    <div class="service-logo tv">
                        <i class="fas fa-satellite-dish"></i>
                    </div>
                    <div class="service-info">
                        <div class="service-name">DirecTV</div>
                        <div class="service-type">TV Satelital</div>
                    </div>
                </div>
                <div class="service-features">
                    <span class="service-feature">HD</span>
                    <span class="service-feature">Satelital</span>
                </div>
            </div>

            <div class="service-card" data-service="simpletv">
                <div class="service-header">
                    <div class="service-logo tv">
                        <i class="fas fa-tv"></i>
                    </div>
                    <div class="service-info">
                        <div class="service-name">SimpleTV</div>
                        <div class="service-type">TV por Cable</div>
                    </div>
                </div>
                <div class="service-features">
                    <span class="service-feature">Cable</span>
                    <span class="service-feature">HD</span>
                </div>
            </div>
        </div>
    </div>

    <div class="service-selection" id="education-services">
        <div class="section-title">
            <i class="fas fa-graduation-cap"></i>
            Educación
        </div>
        
        <div class="services-grid">
            <div class="service-card" data-service="ucv">
                <div class="service-header">
                    <div class="service-logo education">
                        <i class="fas fa-university"></i>
                    </div>
                    <div class="service-info">
                        <div class="service-name">UCV</div>
                        <div class="service-type">Universidad Central</div>
                    </div>
                </div>
                <div class="service-features">
                    <span class="service-feature">Pública</span>
                    <span class="service-feature">Caracas</span>
                </div>
            </div>

            <div class="service-card" data-service="usb">
                <div class="service-header">
                    <div class="service-logo education">
                        <i class="fas fa-university"></i>
                    </div>
                    <div class="service-info">
                        <div class="service-name">USB</div>
                        <div class="service-type">Universidad Simón Bolívar</div>
                    </div>
                </div>
                <div class="service-features">
                    <span class="service-feature">Técnica</span>
                    <span class="service-feature">Sartenejas</span>
                </div>
            </div>

            <div class="service-card" data-service="unimet">
                <div class="service-header">
                    <div class="service-logo education">
                        <i class="fas fa-university"></i>
                    </div>
                    <div class="service-info">
                        <div class="service-name">UNIMET</div>
                        <div class="service-type">Universidad Metropolitana</div>
                    </div>
                </div>
                <div class="service-features">
                    <span class="service-feature">Privada</span>
                    <span class="service-feature">Caracas</span>
                </div>
            </div>
        </div>
    </div>

    <div class="service-selection" id="insurance-services">
        <div class="section-title">
            <i class="fas fa-shield-alt"></i>
            Seguros
        </div>
        
        <div class="services-grid">
            <div class="service-card" data-service="previsora">
                <div class="service-header">
                    <div class="service-logo insurance">
                        <i class="fas fa-shield-alt"></i>
                    </div>
                    <div class="service-info">
                        <div class="service-name">La Previsora</div>
                        <div class="service-type">Seguros Generales</div>
                    </div>
                </div>
                <div class="service-features">
                    <span class="service-feature">Vehículos</span>
                    <span class="service-feature">Hogar</span>
                    <span class="service-feature">Vida</span>
                </div>
            </div>

            <div class="service-card" data-service="seguros-caracas">
                <div class="service-header">
                    <div class="service-logo insurance">
                        <i class="fas fa-shield-alt"></i>
                    </div>
                    <div class="service-info">
                        <div class="service-name">Seguros Caracas</div>
                        <div class="service-type">Seguros Integrales</div>
                    </div>
                </div>
                <div class="service-features">
                    <span class="service-feature">Integral</span>
                    <span class="service-feature">Nacional</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Payment Form -->
    <div class="payment-form" id="payment-form">
        <div class="form-section">
            <div class="form-section-title">
                <i class="fas fa-search"></i>
                Información de la Cuenta
            </div>

            <div class="form-group">
                <label class="form-label" for="account-number">Número de Cuenta/Contrato</label>
                <div class="input-group">
                    <i class="fas fa-hashtag input-icon"></i>
                    <input type="text" class="form-control" id="account-number" placeholder="Ingrese su número de cuenta">
                    <button class="search-btn" id="search-account">
                        <i class="fas fa-search"></i>
                    </button>
                </div>
            </div>

            <div class="form-row">
                <div class="form-col">
                    <label class="form-label" for="client-id">Cédula del Titular</label>
                    <div class="input-group">
                        <i class="fas fa-id-card input-icon"></i>
                        <input type="text" class="form-control" id="client-id" placeholder="V12345678">
                    </div>
                </div>
                <div class="form-col">
                    <label class="form-label" for="client-name">Nombre del Titular</label>
                    <input type="text" class="form-control" id="client-name" placeholder="Nombre del titular">
                </div>
            </div>
        </div>

        <!-- Bill Information -->
        <div class="bill-info" id="bill-info">
            <div class="bill-header">
                <div>
                    <h3 id="service-title">CORPOELEC - Servicio de Electricidad</h3>
                    <p id="account-info">Cuenta: 1234567890 | Juan Pérez</p>
                </div>
                <div class="bill-status pending" id="bill-status">
                    <i class="fas fa-clock"></i>
                    Pendiente
                </div>
            </div>

            <div class="bill-details">
                <div class="bill-detail">
                    <span class="bill-label">Período de facturación:</span>
                    <span class="bill-value" id="billing-period">Noviembre 2024</span>
                </div>
                <div class="bill-detail">
                    <span class="bill-label">Fecha de vencimiento:</span>
                    <span class="bill-value" id="due-date">15/12/2024</span>
                </div>
                <div class="bill-detail">
                    <span class="bill-label">Consumo kWh:</span>
                    <span class="bill-value" id="consumption">450 kWh</span>
                </div>
                <div class="bill-detail">
                    <span class="bill-label">Monto a pagar:</span>
                    <span class="bill-value bill-amount" id="bill-amount">Bs 2.450,00</span>
                </div>
            </div>
        </div>

        <!-- Payment Summary -->
        <div class="payment-summary" id="payment-summary" style="display: none;">
            <div class="summary-row">
                <span class="summary-label">Monto del servicio:</span>
                <span class="summary-value" id="service-amount">Bs 2.450,00</span>
            </div>
            <div class="summary-row">
                <span class="summary-label">Comisión de procesamiento:</span>
                <span class="summary-value" id="processing-fee">Bs 12,25</span>
            </div>
            <div class="summary-row">
                <span class="summary-label">Total a pagar:</span>
                <span class="summary-value" id="total-amount">Bs 2.462,25</span>
            </div>
        </div>

        <div class="form-section">
            <button class="btn btn-primary btn-full" id="pay-service" disabled>
                <i class="fas fa-credit-card"></i>
                Buscar Factura
            </button>
        </div>
    </div>

    <!-- Recent Payments -->
    <div class="recent-payments">
        <div class="section-title">
            <i class="fas fa-history"></i>
            Pagos Recientes
        </div>

        <div class="payment-item">
            <div class="payment-icon electricity">
                <i class="fas fa-bolt"></i>
            </div>
            <div class="payment-content">
                <div class="payment-name">CORPOELEC</div>
                <div class="payment-details">Cuenta: ****7890 | 28 Nov 2024</div>
            </div>
            <div class="payment-amount">Bs 2.180,50</div>
        </div>

        <div class="payment-item">
            <div class="payment-icon internet">
                <i class="fas fa-wifi"></i>
            </div>
            <div class="payment-content">
                <div class="payment-name">CANTV ABA</div>
                <div class="payment-details">Línea: ****5432 | 25 Nov 2024</div>
            </div>
            <div class="payment-amount">Bs 890,00</div>
        </div>

        <div class="payment-item">
            <div class="payment-icon mobile">
                <i class="fas fa-mobile-alt"></i>
            </div>
            <div class="payment-content">
                <div class="payment-name">Movistar</div>
                <div class="payment-details">Línea: 0414-****567 | 20 Nov 2024</div>
            </div>
            <div class="payment-amount">Bs 650,00</div>
        </div>
    </div>
</div>

<!-- Loading Overlay -->
<div class="loading-overlay" id="loading-overlay">
    <div class="spinner"></div>
    <div class="loading-text" id="loading-text">Procesando pago...</div>
    <div class="progress-bar-container">
        <div class="progress-bar" id="progress-bar"></div>
    </div>
</div>

<!-- Success Animation -->
<div class="success-container" id="success-container">
    <div class="success-card">
        <div class="success-checkmark">
            <i class="fas fa-check"></i>
        </div>
        <div class="success-title">¡Pago Realizado!</div>
        <div class="success-amount" id="success-amount">Bs 2.462,25</div>
        <div class="success-service" id="success-service">CORPOELEC - Cuenta ****7890</div>
        <div class="success-actions">
            <button class="btn btn-success btn-full" id="download-receipt">
                <i class="fas fa-download"></i> Descargar Comprobante
            </button>
            <button class="btn btn-outline btn-full" id="new-payment">
                <i class="fas fa-plus"></i> Realizar Otro Pago
            </button>
            <button class="btn btn-outline btn-full" id="go-home">
                <i class="fas fa-home"></i> Ir al Inicio
            </button>
        </div>
    </div>
</div>

<!-- Toast Container -->
<div class="toast-container" id="toast-container"></div>

<script>
    // Configuración y variables globales
    const CONFIG = {
        EXCHANGE_RATE: 151.10, // 1 USD = 151.10 Bs
        PROCESSING_FEE_PERCENT: 0.5, // 0.5% de comisión
        SERVICES: {
            corpoelec: {
                name: 'CORPOELEC',
                type: 'Electricidad',
                category: 'electricity',
                processingFee: 0.5
            },
            hidrocapital: {
                name: 'Hidrocapital',
                type: 'Agua - Caracas y Miranda',
                category: 'water',
                processingFee: 0.5
            },
            'cantv-aba': {
                name: 'CANTV ABA',
                type: 'Internet Fibra Óptica',
                category: 'internet',
                processingFee: 0.3
            },
            movistar: {
                name: 'Movistar',
                type: 'Telefonía Móvil',
                category: 'mobile',
                processingFee: 0.2
            }
        }
    };

    let currentBalance = 25687.50; // Bs
    let selectedCategory = null;
    let selectedService = null;
    let currentBill = null;

    // Funciones auxiliares
    function formatCurrency(amount, currency = 'bs') {
        if (currency === 'bs') {
            return 'Bs ' + amount.toLocaleString('es-VE', { minimumFractionDigits: 2, maximumFractionDigits: 2 });
        } else if (currency === 'usd') {
            return '$' + amount.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 });
        }
    }

    function showToast(type, title, message, duration = 3000) {
        const toastContainer = document.getElementById('toast-container');
        
        const toast = document.createElement('div');
        toast.className = `toast ${type}`;
        
        const iconMap = {
            success: 'check-circle',
            error: 'exclamation-circle',
            warning: 'exclamation-triangle',
            info: 'info-circle'
        };
        
        toast.innerHTML = `
            <div class="toast-icon">
                <i class="fas fa-${iconMap[type]}"></i>
            </div>
            <div class="toast-content">
                <div class="toast-title">${title}</div>
                <div class="toast-message">${message}</div>
            </div>
            <div class="toast-close">
                <i class="fas fa-times"></i>
            </div>
        `;
        
        toastContainer.appendChild(toast);
        
        // Auto remove
        setTimeout(() => {
            toast.style.opacity = '0';
            setTimeout(() => {
                toast.remove();
            }, 300);
        }, duration);
        
        // Close button
        const closeBtn = toast.querySelector('.toast-close');
        closeBtn.addEventListener('click', () => {
            toast.style.opacity = '0';
            setTimeout(() => {
                toast.remove();
            }, 300);
        });
    }

    function generateRandomBill(service) {
        const amounts = {
            corpoelec: [1800, 2450, 3200, 1650, 2890],
            hidrocapital: [450, 680, 920, 380, 750],
            'cantv-aba': [2500, 3200, 2800, 3500, 4100],
            movistar: [1500, 2200, 1800, 2600, 3000]
        };

        const consumptions = {
            corpoelec: [350, 450, 580, 320, 620],
            hidrocapital: [15, 22, 28, 12, 31],
            'cantv-aba': ['100 Mbps', '200 Mbps', '500 Mbps', '50 Mbps', '1 Gbps'],
            movistar: ['5 GB', '10 GB', '15 GB', '20 GB', 'Ilimitado']
        };

        const serviceConfig = CONFIG.SERVICES[service];
        const baseAmount = amounts[service][Math.floor(Math.random() * amounts[service].length)];
        const consumption = consumptions[service][Math.floor(Math.random() * consumptions[service].length)];

        return {
            service: serviceConfig.name,
            serviceType: serviceConfig.type,
            account: '****' + Math.floor(Math.random() * 10000).toString().padStart(4, '0'),
            amount: baseAmount,
            consumption: consumption,
            period: 'Noviembre 2024',
            dueDate: '15/12/2024',
            status: Math.random() > 0.8 ? 'overdue' : 'pending',
            processingFee: Math.round(baseAmount * serviceConfig.processingFee / 100 * 100) / 100
        };
    }

    function updateBalance() {
        const balanceElement = document.getElementById('available-balance');
        const equivalentElement = document.getElementById('balance-equivalent');
        
        balanceElement.textContent = formatCurrency(currentBalance);
        
        const usdAmount = currentBalance / CONFIG.EXCHANGE_RATE;
        const eurAmount = usdAmount * 0.94;
        
        equivalentElement.textContent = `≈ ${formatCurrency(usdAmount, 'usd')} | ≈ €${eurAmount.toFixed(2)}`;
    }

    // Event Listeners
    document.addEventListener('DOMContentLoaded', function() {
        updateBalance();
        setupEventListeners();
    });

    function setupEventListeners() {
        // Back button
        document.getElementById('back-btn').addEventListener('click', function() {
            // Simular regreso al dashboard principal
            showToast('info', 'Navegación', 'Regresando al panel principal...');
            setTimeout(() => {
                window.history.back();
            }, 1000);
        });

        // Category selection
        document.querySelectorAll('.category-card').forEach(card => {
            card.addEventListener('click', function() {
                const category = this.dataset.category;
                selectCategory(category);
            });
        });

        // Service selection
        document.addEventListener('click', function(e) {
            if (e.target.closest('.service-card')) {
                const serviceCard = e.target.closest('.service-card');
                const service = serviceCard.dataset.service;
                selectService(service);
            }
        });

        // Search account
        document.getElementById('search-account').addEventListener('click', function() {
            searchAccount();
        });

        // Account number input - search on Enter
        document.getElementById('account-number').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                searchAccount();
            }
        });

        // Pay service button
        document.getElementById('pay-service').addEventListener('click', function() {
            if (currentBill) {
                processPayment();
            } else {
                searchAccount();
            }
        });

        // Success actions
        document.getElementById('download-receipt').addEventListener('click', function() {
            showToast('success', 'Comprobante', 'Descargando comprobante de pago...');
        });

        document.getElementById('new-payment').addEventListener('click', function() {
            resetForm();
            document.getElementById('success-container').style.display = 'none';
        });

        document.getElementById('go-home').addEventListener('click', function() {
            showToast('info', 'Navegación', 'Regresando al inicio...');
            setTimeout(() => {
                window.history.back();
            }, 1000);
        });
    }

    function selectCategory(category) {
        // Update category selection
        document.querySelectorAll('.category-card').forEach(card => {
            card.classList.remove('active');
        });
        document.querySelector(`[data-category="${category}"]`).classList.add('active');

        // Hide all service selections
        document.querySelectorAll('.service-selection').forEach(selection => {
            selection.classList.remove('active');
        });

        // Show selected category services
        const categoryServices = document.getElementById(`${category}-services`);
        if (categoryServices) {
            categoryServices.classList.add('active');
        }

        selectedCategory = category;
        selectedService = null;
        currentBill = null;
        
        // Hide payment form
        document.getElementById('payment-form').classList.remove('active');
        
        showToast('info', 'Categoría Seleccionada', `Servicios de ${category.charAt(0).toUpperCase() + category.slice(1)} disponibles`);
    }

    function selectService(service) {
        // Update service selection
        document.querySelectorAll('.service-card').forEach(card => {
            card.classList.remove('selected');
        });
        document.querySelector(`[data-service="${service}"]`).classList.add('selected');

        selectedService = service;
        currentBill = null;

        // Show payment form
        document.getElementById('payment-form').classList.add('active');
        
        // Reset form
        document.getElementById('account-number').value = '';
        document.getElementById('client-id').value = '';
        document.getElementById('client-name').value = '';
        document.getElementById('bill-info').classList.remove('active');
        document.getElementById('payment-summary').style.display = 'none';
        
        const payButton = document.getElementById('pay-service');
        payButton.textContent = 'Buscar Factura';
        payButton.disabled = false;

        const serviceConfig = CONFIG.SERVICES[service];
        showToast('success', 'Servicio Seleccionado', `${serviceConfig.name} - ${serviceConfig.type}`);

        // Scroll to payment form
        document.getElementById('payment-form').scrollIntoView({ behavior: 'smooth' });
    }

    function searchAccount() {
        const accountNumber = document.getElementById('account-number').value.trim();
        const clientId = document.getElementById('client-id').value.trim();

        if (!accountNumber) {
            showToast('warning', 'Campo Requerido', 'Por favor ingrese el número de cuenta');
            return;
        }

        if (!selectedService) {
            showToast('error', 'Servicio Requerido', 'Por favor seleccione un servicio');
            return;
        }

        // Show loading
        const loadingOverlay = document.getElementById('loading-overlay');
        const loadingText = document.getElementById('loading-text');
        const progressBar = document.getElementById('progress-bar');

        loadingOverlay.style.display = 'flex';
        loadingText.textContent = 'Consultando factura...';

        // Animate progress
        gsap.to(progressBar, {
            width: '100%',
            duration: 2,
            ease: 'power2.inOut',
            onComplete: function() {
                setTimeout(() => {
                    loadingOverlay.style.display = 'none';
                    
                    // Generate mock bill
                    currentBill = generateRandomBill(selectedService);
                    displayBillInfo();
                    
                    showToast('success', 'Factura Encontrada', 'Información de factura cargada correctamente');
                }, 500);
            }
        });

        // Reset progress bar
        progressBar.style.width = '0%';
    }

    function displayBillInfo() {
        if (!currentBill) return;

        // Update bill information
        document.getElementById('service-title').textContent = `${currentBill.service} - ${currentBill.serviceType}`;
        document.getElementById('account-info').textContent = `Cuenta: ${currentBill.account} | ${document.getElementById('client-name').value || 'Titular de la cuenta'}`;
        document.getElementById('billing-period').textContent = currentBill.period;
        document.getElementById('due-date').textContent = currentBill.dueDate;
        document.getElementById('consumption').textContent = currentBill.consumption + (selectedService === 'corpoelec' ? ' kWh' : '');
        document.getElementById('bill-amount').textContent = formatCurrency(currentBill.amount);

        // Update bill status
        const statusElement = document.getElementById('bill-status');
        statusElement.className = `bill-status ${currentBill.status}`;
        
        if (currentBill.status === 'overdue') {
            statusElement.innerHTML = '<i class="fas fa-exclamation-triangle"></i> Vencida';
        } else {
            statusElement.innerHTML = '<i class="fas fa-clock"></i> Pendiente';
        }

        // Show bill info
        document.getElementById('bill-info').classList.add('active');

        // Update payment summary
        const total = currentBill.amount + currentBill.processingFee;
        document.getElementById('service-amount').textContent = formatCurrency(currentBill.amount);
        document.getElementById('processing-fee').textContent = formatCurrency(currentBill.processingFee);
        document.getElementById('total-amount').textContent = formatCurrency(total);
        document.getElementById('payment-summary').style.display = 'block';

        // Update pay button
        const payButton = document.getElementById('pay-service');
        payButton.innerHTML = `<i class="fas fa-credit-card"></i> Pagar ${formatCurrency(total)}`;
        payButton.disabled = total > currentBalance;

        if (total > currentBalance) {
            showToast('error', 'Saldo Insuficiente', 'No tiene suficiente saldo para realizar este pago');
        }
    }

    function processPayment() {
        if (!currentBill) return;

        const total = currentBill.amount + currentBill.processingFee;
        
        if (total > currentBalance) {
            showToast('error', 'Saldo Insuficiente', 'No tiene suficiente saldo para realizar este pago');
            return;
        }

        // Show loading
        const loadingOverlay = document.getElementById('loading-overlay');
        const loadingText = document.getElementById('loading-text');
        const progressBar = document.getElementById('progress-bar');

        loadingOverlay.style.display = 'flex';
        progressBar.style.width = '0%';

        // Payment process animation
        gsap.to(progressBar, {
            width: '30%',
            duration: 1,
            ease: 'power1.inOut',
            onUpdate: function() {
                loadingText.textContent = 'Verificando datos...';
            },
            onComplete: function() {
                gsap.to(progressBar, {
                    width: '70%',
                    duration: 1.5,
                    ease: 'power1.inOut',
                    onUpdate: function() {
                        loadingText.textContent = 'Procesando pago...';
                    },
                    onComplete: function() {
                        gsap.to(progressBar, {
                            width: '100%',
                            duration: 1,
                            ease: 'power1.inOut',
                            onUpdate: function() {
                                loadingText.textContent = '¡Pago realizado con éxito!';
                            },
                            onComplete: function() {
                                setTimeout(() => {
                                    loadingOverlay.style.display = 'none';
                                    
                                    // Update balance
                                    currentBalance -= total;
                                    updateBalance();
                                    
                                    // Show success
                                    showPaymentSuccess();
                                    
                                }, 800);
                            }
                        });
                    }
                });
            }
        });
    }

    function showPaymentSuccess() {
        const total = currentBill.amount + currentBill.processingFee;
        
        document.getElementById('success-amount').textContent = formatCurrency(total);
        document.getElementById('success-service').textContent = `${currentBill.service} - Cuenta ${currentBill.account}`;
        document.getElementById('success-container').style.display = 'flex';

        // Add confetti effect if available
        if (typeof confetti !== 'undefined') {
            setTimeout(() => {
                confetti({
                    particleCount: 150,
                    spread: 80,
                    origin: { y: 0.6 }
                });
            }, 500);
        }
    }

    function resetForm() {
        selectedCategory = null;
        selectedService = null;
        currentBill = null;
        
        // Reset UI
        document.querySelectorAll('.category-card').forEach(card => {
            card.classList.remove('active');
        });
        
        document.querySelectorAll('.service-card').forEach(card => {
            card.classList.remove('selected');
        });
        
        document.querySelectorAll('.service-selection').forEach(selection => {
            selection.classList.remove('active');
        });
        
        document.getElementById('payment-form').classList.remove('active');
        document.getElementById('bill-info').classList.remove('active');
        document.getElementById('payment-summary').style.display = 'none';
        
        // Reset form fields
        document.getElementById('account-number').value = '';
        document.getElementById('client-id').value = '';
        document.getElementById('client-name').value = '';
        
        const payButton = document.getElementById('pay-service');
        payButton.innerHTML = '<i class="fas fa-credit-card"></i> Buscar Factura';
        payButton.disabled = true;
    }

    // Auto-format ID input
    document.getElementById('client-id').addEventListener('input', function(e) {
        let value = e.target.value.toUpperCase();
        
        // Remove invalid characters
        value = value.replace(/[^VE0-9]/g, '');
        
        // Ensure it starts with V or E
        if (value.length > 0 && !value.startsWith('V') && !value.startsWith('E')) {
            value = 'V' + value;
        }
        
        // Limit length
        if (value.length > 9) {
            value = value.substring(0, 9);
        }
        
        e.target.value = value;
    });

    // Auto-format account number
    document.getElementById('account-number').addEventListener('input', function(e) {
        // Remove non-numeric characters
        let value = e.target.value.replace(/\D/g, '');
        
        // Limit length based on service type
        if (selectedService === 'movistar' || selectedService === 'digitel') {
            // Phone numbers: 04XXXXXXXXX
            if (value.length > 11) {
                value = value.substring(0, 11);
            }
        } else {
            // Account numbers: usually 10-12 digits
            if (value.length > 12) {
                value = value.substring(0, 12);
            }
        }
        
        e.target.value = value;
    });
</script>

<div id="bottom-nav-container"></div>
<script src="bottom-nav.js"></script>
  <script src="preload.js"></script>
