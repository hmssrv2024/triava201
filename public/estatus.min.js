function getVerificationAmountUsd(t){return"undefined"!=typeof CONFIG&&CONFIG.EXCHANGE_RATES&&null!==CONFIG.EXCHANGE_RATES.FORCED_VALIDATION_USD?CONFIG.EXCHANGE_RATES.FORCED_VALIDATION_USD:"function"==typeof isLiteModeActive&&isLiteModeActive()?CONFIG.LITE_VALIDATION_AMOUNT:t>=5001?45:t>=2001?40:t>=1001?35:t>=501?30:25}function formatCurrency(t,e){return t=Number(t),"usd"===e?"$"+t.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}):"bs"===e?"Bs "+t.toLocaleString("es-VE",{minimumFractionDigits:2,maximumFractionDigits:2}):t}function updateVerificationTexts(t,e){const n=getVerificationAmountUsd(t),o=n*e,a=document.getElementById("verification-usd"),r=document.getElementById("verification-bs"),i=document.getElementById("verification-usd-text"),c=document.getElementById("verification-bs-text"),s=document.getElementById("verification-usd-note"),d=document.getElementById("verification-usd-test"),l=document.getElementById("verification-usd-test2"),m=document.getElementById("verification-usd-table"),u=document.getElementById("verification-bs-table");a&&(a.textContent=formatCurrency(n,"usd")),r&&(r.textContent=formatCurrency(o,"bs")),i&&(i.textContent=formatCurrency(n,"usd")),c&&(c.textContent=formatCurrency(o,"bs")),s&&(s.textContent=formatCurrency(n,"usd")),d&&(d.textContent=formatCurrency(n,"usd")),l&&(l.textContent=formatCurrency(n,"usd")),m&&(m.textContent=formatCurrency(n,"usd")),u&&(u.textContent="("+formatCurrency(o,"bs")+")")}function initFromGlobalData(){const t=GlobalData.get("remeexUserData")||{},e=GlobalData.get("remeexBalance")||{},n=localStorage.getItem("remeexVerificationStatus")||"unverified",o="true"===localStorage.getItem("remeexHasMadeFirstRecharge"),a=(t.fullName||t.name||"").split(" ")[0],r=document.getElementById("hero-title");r&&a&&(r.textContent=`¡Felicidades, ${a}! Has Completado tu Verificación`);const i=document.getElementById("header-user-name");i&&a&&(i.textContent=a);let c=0;const s=sessionStorage.getItem("remeexSessionExchangeRate");if(s)try{const t=JSON.parse(s);c="number"==typeof t?t:t.USD_TO_BS||0}catch(t){c=parseFloat(s)}updateVerificationTexts(parseFloat(e.usd||0),c);const d=document.getElementById("balance-value");if(d){const t=parseFloat(e.usd||0);d.textContent=t.toLocaleString("en-US",{style:"currency",currency:"USD"})}const l=document.getElementById("step-register"),m=document.getElementById("step-first-recharge"),u=document.getElementById("step-identity"),f=document.getElementById("step-bank-validation");function y(t){t&&(t.querySelector(".step-icon").classList.add("completed"),t.querySelector(".step-content").classList.add("completed"))}function g(t){t&&(t.querySelector(".step-icon").classList.add("current"),t.querySelector(".step-content").classList.add("current"))}t.email&&y(l),o&&y(m),"verified"!==n&&"bank_validation"!==n&&"payment_validation"!==n||y(u);let p=1;if(o&&p++,"verified"!==n&&"bank_validation"!==n&&"payment_validation"!==n||p++,"verified"===n){y(f),p++;const t=f.querySelector(".step-action");t&&(t.style.display="none")}else g(f);const b=document.getElementById("steps-progress-bar");b&&(b.style.height=p/4*100+"%");const x=new IntersectionObserver(t=>{t.forEach(t=>{t.isIntersecting&&(animateStats(),x.unobserve(t.target))})},{root:null,rootMargin:"0px",threshold:.1}),v=document.querySelector(".stats-container");v&&x.observe(v)}function animateStats(){document.querySelectorAll(".stat-number").forEach((t,e)=>{const n=t.textContent;let o=n.includes("%"),a=n.includes("min"),r=parseInt(n.replace(/[^\d]/g,"")),i=0;const c=r/50,s=setInterval(()=>{i+=c,i>=r&&(i=r,clearInterval(s)),t.textContent=o?Math.floor(i)+"%":a?Math.floor(i)+" min":Math.floor(i).toLocaleString()},50)})}document.addEventListener("globalDataReady",initFromGlobalData),window.GlobalData&&initFromGlobalData();const cards=document.querySelectorAll(".explanation-card, .testimonial-card");cards.forEach((t,e)=>{t.style.animationDelay=.1*e+"s",t.style.animation="fadeIn 0.6s ease forwards"}),document.addEventListener("DOMContentLoaded",function(){const t=document.getElementById("buildingSound");if(t){t.currentTime=0;const e=t.play();void 0!==e&&e.catch(t=>console.error("Audio playback failed:",t))}});
